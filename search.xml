<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Springå­¦ä¹ ç¬¬ä¸€ç« ã€ç¬¬äºŒèŠ‚ï¼šä¾èµ–æ³¨å…¥ï¼ˆåŒ…æ‹¬è‡ªåŠ¨è£…é…ï¼Œå¯¹è±¡çš„æ³¨å…¥ï¼‰]]></title>
    <url>%2Fpost%2F7f36606d.html</url>
    <content type="text"><![CDATA[å‰è¨€å…¶å®žåœ¨ç¬¬ä¸€ç« ä¸­ï¼Œæˆ‘ä»¬å¤šæ¬¡æåˆ°äº†å…³äºŽä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰çš„å†…å®¹ï¼Œè€Œä¸Šä¸€ç« ä¸­è®²çš„Springå®¹å™¨ä¸ºä»€ä¹ˆåœ¨Springä¸­å«åšIocå‘¢ï¼Ÿæˆ‘ä»¬çŸ¥é“äº†Iocå«åšæŽ§åˆ¶åè½¬ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å°†æŽ§åˆ¶æƒäº¤ç»™äº†Springå®¹å™¨ï¼Œæˆ‘ä»¬å›žé¡¾ä¸€ä¸‹Springå¯¹Spring Beanè¿›è¡ŒæŽ§åˆ¶çš„è¿‡ç¨‹ï¼š é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰äº†Beançš„é…ç½®æ–‡ä»¶ï¼Œå’Œç›¸åº”çš„å®žçŽ°ç±» Springä¼šå¯¹Beané…ç½®ä¿¡æ¯è¿›è¡Œè¯»å–ï¼Œå°†Beanä¿¡æ¯åŠ è½½åˆ°Springå®¹å™¨ä¸­çš„Beanå®šä¹‰æ³¨å†Œè¡¨ä¸­ æ ¹æ®Beanæ³¨å†Œè¡¨å’Œå¯¹åº”çš„å®žçŽ°ç±»å®žä¾‹åŒ–Beanå¯¹è±¡ï¼Œæ”¾åˆ°Springå®¹å™¨ä¸­ï¼Œä¾›åº”ç”¨ç¨‹åºè°ƒç”¨å¦‚å›¾ï¼š å—¯ï¼Œæœ‰æ²¡æœ‰æƒ³è¿‡ä¸ºä»€ä¹ˆè¦è¿›è¡ŒæŽ§åˆ¶åè½¬å‘¢ï¼Ÿå› ä¸ºå¤§å¤šæ•°åº”ç”¨ç¨‹åºéƒ½æ˜¯ç”±ä¸¤ä¸ªæˆ–æ˜¯æ›´å¤šçš„ç±»é€šè¿‡å½¼æ­¤çš„åˆä½œæ¥å®žçŽ°ä¸šåŠ¡é€»è¾‘ï¼Œè¿™ä½¿å¾—æ¯ä¸ªå¯¹è±¡éƒ½éœ€è¦èŽ·å–ä¸Žå…¶åˆä½œçš„å¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯å®ƒæ‰€ä¾èµ–çš„å¯¹è±¡ï¼‰çš„å¼•ç”¨ã€‚å¦‚æžœè¿™ä¸ªèŽ·å–è¿‡ç¨‹è¦é è‡ªèº«å®žçŽ°ï¼Œé‚£ä¹ˆè¿™å°†å¯¼è‡´ä»£ç é«˜åº¦è€¦åˆå¹¶ä¸”éš¾ä»¥ç»´æŠ¤å’Œè°ƒè¯•ã€‚ä¾‹å¦‚ï¼š Class Aä¸­ç”¨åˆ°äº†Class Bçš„å¯¹è±¡bï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œéœ€è¦åœ¨Açš„ä»£ç ä¸­æ˜¾å¼çš„newä¸€ä¸ªBçš„å¯¹è±¡ã€‚ æ­¤æ—¶ï¼ŒAç±»ä¸­å°†newå‡ºBå¯¹è±¡ã€‚é‚£ä¹ˆæœ‰æ²¡æœ‰åŠžæ³•ç¼“è§£è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿå¼€å‘è€…ä»¬å‘çŽ°äº†ä¸€ä¸ªå¥½åŠžæ³•ï¼šæŽ¥å£é©±åŠ¨ï¼ˆInterface Driven Designï¼‰ 12345678classA&#123; AInterface a; A()&#123;&#125; AMethod()&#123; a = new AInterfaceImp(); &#125;&#125; è¿™æ—¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å†™ä¸€ä¸ªFactoryæ¥åº”å¯¹éœ€è¦AInterfaceå¦ä¸€ä¸ªæˆ–å¤šä¸ªå®žçŽ°çš„éœ€æ±‚ï¼ˆä¸¾ä¸€ä¸ªç®€å•å·¥åŽ‚çš„æ —å­ï¼‰ 123456789101112131415161718InterfaceImplFactory&#123; AInterface create(Object condition) &#123; if(condition == condA) &#123; return new AInterfaceImpA(); &#125; else if(condition == condB) &#123; return new AInterfaceImpB(); &#125; else &#123; return new AInterfaceImp(); &#125; &#125;&#125; è¿™ç§æ–¹å¼è™½ç„¶è®©ä»£ç æ›´çµæ´»ï¼Œå¥å£®æ€§æ›´é«˜ï¼Œä½†æ˜¯æœ¬è´¨ä¸Šï¼Œæœ€åŽè¿˜æ˜¯ä¼šè®©ç±»æœ¬èº«å®žçŽ°äº†æŽ¥å£äº§ç”Ÿä¾èµ–ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼šAInterface a = new AInterfaceImp(); è¿™æ ·çš„ä»£ç è¿Ÿæ—©è¦æ‰§è¡Œï¼Œè€¦åˆå…³ç³»çš„äº§ç”Ÿæ— æ³•é¿å…ã€‚è€ŒIocçš„æå‡ºå¯ä»¥å½»åº•è§£å†³è¿™ç§è€¦åˆï¼Œå®ƒæŠŠè€¦åˆä»Žä»£ç ä¸­ç§»å‡ºåŽ»ï¼Œæ”¾åˆ°ç»Ÿä¸€çš„XML æ–‡ä»¶ä¸­ï¼Œé€šè¿‡ä¸€ä¸ªå®¹å™¨åœ¨éœ€è¦çš„æ—¶å€™æŠŠè¿™ä¸ªä¾èµ–å…³ç³»å½¢æˆï¼Œå³æŠŠéœ€è¦çš„æŽ¥å£å®žçŽ°æ³¨å…¥åˆ°éœ€è¦å®ƒçš„ç±»ä¸­ï¼Œè¿™å¯èƒ½å°±æ˜¯â€œä¾èµ–æ³¨å…¥â€è¯´æ³•çš„æ¥æºäº†ã€‚ ä¸‹é¢ï¼Œæˆ‘ä»¬å°±æ¥å­¦ä¹ Springå¦‚ä½•é€šè¿‡DIå®žçŽ°Iocåœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬è¡¥å……ä¸€ä¸ªçŸ¥è¯†ç‚¹ Spring Bean å®šä¹‰ç»§æ‰¿ bean å®šä¹‰å¯ä»¥åŒ…å«å¾ˆå¤šçš„é…ç½®ä¿¡æ¯ï¼ŒåŒ…æ‹¬æž„é€ å‡½æ•°çš„å‚æ•°ï¼Œå±žæ€§å€¼ï¼Œå®¹å™¨çš„å…·ä½“ä¿¡æ¯ä¾‹å¦‚åˆå§‹åŒ–æ–¹æ³•ï¼Œé™æ€å·¥åŽ‚æ–¹æ³•åï¼Œç­‰ç­‰ã€‚å­ bean çš„å®šä¹‰ç»§æ‰¿çˆ¶å®šä¹‰çš„é…ç½®æ•°æ®ã€‚å­å®šä¹‰å¯ä»¥æ ¹æ®éœ€è¦é‡å†™ä¸€äº›å€¼ï¼Œæˆ–è€…æ·»åŠ å…¶ä»–å€¼ã€‚Spring Bean å®šä¹‰çš„ç»§æ‰¿ä¸Ž Java ç±»çš„ç»§æ‰¿æ— å…³ï¼Œä½†æ˜¯ç»§æ‰¿çš„æ¦‚å¿µæ˜¯ä¸€æ ·çš„ã€‚ä½ å¯ä»¥å®šä¹‰ä¸€ä¸ªçˆ¶ bean çš„å®šä¹‰ä½œä¸ºæ¨¡æ¿å’Œå…¶ä»–å­ bean å°±å¯ä»¥ä»Žçˆ¶ bean ä¸­ç»§æ‰¿æ‰€éœ€çš„é…ç½®ã€‚å½“ä½ ä½¿ç”¨åŸºäºŽ XML çš„é…ç½®å…ƒæ•°æ®æ—¶ï¼Œé€šè¿‡ä½¿ç”¨çˆ¶å±žæ€§ï¼ŒæŒ‡å®šçˆ¶ bean ä½œä¸ºè¯¥å±žæ€§çš„å€¼æ¥è¡¨æ˜Žå­ bean çš„å®šä¹‰ã€‚ ä¸‹é¢æ˜¯é…ç½®æ–‡ä»¶ Beans.xmlï¼Œåœ¨è¯¥é…ç½®æ–‡ä»¶ä¸­æˆ‘ä»¬å®šä¹‰æœ‰ä¸¤ä¸ªå±žæ€§ message1 å’Œ message2 çš„ â€œhelloWorldâ€ beanã€‚ç„¶åŽï¼Œä½¿ç”¨ parent å±žæ€§æŠŠ â€œhelloIndiaâ€ bean å®šä¹‰ä¸º â€œhelloWorldâ€ bean çš„å­©å­ã€‚è¿™ä¸ªå­ bean ç»§æ‰¿ message2 çš„å±žæ€§ï¼Œé‡å†™ message1 çš„å±žæ€§ï¼Œå¹¶ä¸”å¼•å…¥ä¸€ä¸ªå±žæ€§ message3ã€‚ 123456789101112131415161718&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt; &lt;bean id="helloWorld" class="com.tutorialspoint.HelloWorld"&gt; &lt;property name="message1" value="Hello World!"/&gt; &lt;property name="message2" value="Hello Second World!"/&gt; &lt;/bean&gt; &lt;bean id="helloIndia" class="com.tutorialspoint.HelloIndia" parent="helloWorld"&gt; &lt;property name="message1" value="Hello India!"/&gt; &lt;property name="message3" value="Namaste India!"/&gt; &lt;/bean&gt;&lt;/beans&gt; è¿™é‡Œæ˜¯ HelloWorld.java æ–‡ä»¶çš„å†…å®¹ï¼š 12345678910111213141516public class HelloWorld &#123; private String message1; private String message2; public void setMessage1(String message)&#123; this.message1 = message; &#125; public void setMessage2(String message)&#123; this.message2 = message; &#125; public void getMessage1()&#123; System.out.println("World Message1 : " + message1); &#125; public void getMessage2()&#123; System.out.println("World Message2 : " + message2); &#125;&#125; è¿™é‡Œæ˜¯ HelloIndia.java æ–‡ä»¶çš„å†…å®¹ï¼š 1234567891011121314151617181920212223242526272829public class HelloIndia &#123; private String message1; private String message2; private String message3; public void setMessage1(String message)&#123; this.message1 = message; &#125; public void setMessage2(String message)&#123; this.message2 = message; &#125; public void setMessage3(String message)&#123; this.message3 = message; &#125; public void getMessage1()&#123; System.out.println("India Message1 : " + message1); &#125; public void getMessage2()&#123; System.out.println("India Message2 : " + message2); &#125; public void getMessage3()&#123; System.out.println("India Message3 : " + message3); &#125;&#125; Bean å®šä¹‰æ¨¡æ¿ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ª Bean å®šä¹‰æ¨¡æ¿ï¼Œä¸éœ€è¦èŠ±å¤ªå¤šåŠŸå¤«å®ƒå°±å¯ä»¥è¢«å…¶ä»–å­ bean å®šä¹‰ä½¿ç”¨ã€‚åœ¨å®šä¹‰ä¸€ä¸ª Bean å®šä¹‰æ¨¡æ¿æ—¶ï¼Œä½ ä¸åº”è¯¥æŒ‡å®šç±»çš„å±žæ€§ï¼Œè€Œåº”è¯¥æŒ‡å®šå¸¦ true å€¼çš„æŠ½è±¡å±žæ€§ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š12345678910111213141516171819&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt; &lt;bean id="beanTeamplate" abstract="true"&gt; &lt;property name="message1" value="Hello World!"/&gt; &lt;property name="message2" value="Hello Second World!"/&gt; &lt;property name="message3" value="Namaste India!"/&gt; &lt;/bean&gt; &lt;bean id="helloIndia" class="com.tutorialspoint.HelloIndia" parent="beanTeamplate"&gt; &lt;property name="message1" value="Hello India!"/&gt; &lt;property name="message3" value="Namaste India!"/&gt; &lt;/bean&gt;&lt;/beans&gt; çˆ¶ bean è‡ªèº«ä¸èƒ½è¢«å®žä¾‹åŒ–ï¼Œå› ä¸ºå®ƒæ˜¯ä¸å®Œæ•´çš„ï¼Œè€Œä¸”å®ƒä¹Ÿè¢«æ˜Žç¡®åœ°æ ‡è®°ä¸ºæŠ½è±¡çš„ã€‚å½“ä¸€ä¸ªå®šä¹‰æ˜¯æŠ½è±¡çš„ï¼Œå®ƒä»…ä»…ä½œä¸ºä¸€ä¸ªçº¯ç²¹çš„æ¨¡æ¿ bean å®šä¹‰æ¥ä½¿ç”¨çš„ï¼Œå……å½“å­å®šä¹‰çš„çˆ¶å®šä¹‰ä½¿ç”¨ã€‚ æ­£æ–‡Springä¾èµ–æ³¨å…¥ æ¯ä¸ªåŸºäºŽåº”ç”¨ç¨‹åºçš„ java éƒ½æœ‰å‡ ä¸ªå¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡ä¸€èµ·å·¥ä½œæ¥å‘ˆçŽ°å‡ºç»ˆç«¯ç”¨æˆ·æ‰€çœ‹åˆ°çš„å·¥ä½œçš„åº”ç”¨ç¨‹åºã€‚å½“ç¼–å†™ä¸€ä¸ªå¤æ‚çš„ Java åº”ç”¨ç¨‹åºæ—¶ï¼Œåº”ç”¨ç¨‹åºç±»åº”è¯¥å°½å¯èƒ½ç‹¬ç«‹äºŽå…¶ä»– Java ç±»æ¥å¢žåŠ è¿™äº›ç±»é‡ç”¨çš„å¯èƒ½æ€§ï¼Œå¹¶ä¸”åœ¨åšå•å…ƒæµ‹è¯•æ—¶ï¼Œæµ‹è¯•ç‹¬ç«‹äºŽå…¶ä»–ç±»çš„ç‹¬ç«‹æ€§ã€‚ä¾èµ–æ³¨å…¥ï¼ˆæˆ–æœ‰æ—¶ç§°ä¸ºå¸ƒçº¿ï¼‰æœ‰åŠ©äºŽæŠŠè¿™äº›ç±»ç²˜åˆåœ¨ä¸€èµ·ï¼ŒåŒæ—¶ä¿æŒä»–ä»¬ç‹¬ç«‹ã€‚ å°±åƒä¹‹å‰æåˆ°çš„ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨ä¸€ä¸ªç±»ä¸­å¯èƒ½ä¼šä¾èµ–å¦ä¸€ä¸ªç±»çš„å®žä¾‹ï¼šå‡è®¾ä½ æœ‰ä¸€ä¸ªåŒ…å«æ–‡æœ¬ç¼–è¾‘å™¨ç»„ä»¶çš„åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”ä½ æƒ³è¦æä¾›æ‹¼å†™æ£€æŸ¥ã€‚æ ‡å‡†ä»£ç çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ 123456public class TextEditor &#123; private SpellChecker spellChecker; public TextEditor() &#123; spellChecker = new SpellChecker(); &#125;&#125; è€Œåœ¨æŽ§åˆ¶åè½¬çš„åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬ä¼šåšç±»ä¼¼è¿™æ ·çš„äº‹ï¼š 123456public class TextEditor &#123; private SpellChecker spellChecker; public TextEditor(SpellChecker spellChecker) &#123; this.spellChecker = spellChecker; &#125;&#125; æˆ‘ä»¬å‘çŽ°ï¼ŒTextEditor ä¸åº”è¯¥æ‹…å¿ƒ SpellChecker çš„å®žçŽ°ã€‚SpellChecker å°†ä¼šç‹¬ç«‹å®žçŽ°ï¼Œå¹¶ä¸”åœ¨ TextEditor å®žä¾‹åŒ–çš„æ—¶å€™å°†æä¾›ç»™ TextEditorï¼Œæ•´ä¸ªè¿‡ç¨‹æ˜¯ç”± Spring æ¡†æž¶çš„æŽ§åˆ¶ã€‚ï¼ˆåŒ…æ‹¬å®žä¾‹åŒ–çš„è¿‡ç¨‹ï¼Œå—¯ï¼Œè¿™é‡Œåº”è¯¥å°±åªæœ‰å®ƒçš„å¼•ç”¨ï¼‰ï¼Œå®žçŽ°è¿™ä¸ªè¿‡ç¨‹å°±å¾—éœ€è¦ä¾èµ–æ³¨å…¥å‡ºåœºäº†ï¼ è€ŒSpringä¸­ä¾èµ–æ³¨å…¥ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼š åºå· ä¾èµ–æ³¨å…¥ç±»åž‹ &amp; æè¿° 1 Constructor-based dependency injection å½“å®¹å™¨è°ƒç”¨å¸¦æœ‰å¤šä¸ªå‚æ•°çš„æž„é€ å‡½æ•°ç±»æ—¶ï¼Œå®žçŽ°åŸºäºŽæž„é€ å‡½æ•°çš„ DIï¼Œæ¯ä¸ªä»£è¡¨åœ¨å…¶ä»–ç±»ä¸­çš„ä¸€ä¸ªä¾èµ–å…³ç³»ã€‚ 2 Setter-based dependency injectionåŸºäºŽ setter æ–¹æ³•çš„ DI æ˜¯é€šè¿‡åœ¨è°ƒç”¨æ— å‚æ•°çš„æž„é€ å‡½æ•°æˆ–æ— å‚æ•°çš„é™æ€å·¥åŽ‚æ–¹æ³•å®žä¾‹åŒ– bean ä¹‹åŽå®¹å™¨è°ƒç”¨ beans çš„ setter æ–¹æ³•æ¥å®žçŽ°çš„ ä½ å¯ä»¥æ··åˆè¿™ä¸¤ç§æ–¹æ³•ï¼ŒåŸºäºŽæž„é€ å‡½æ•°å’ŒåŸºäºŽ setter æ–¹æ³•çš„ DIï¼Œä¸è¿‡æ›´æŽ¨èä½¿ç”¨Setteræ–¹æ³•ã€‚ä»£ç æ˜¯ DI åŽŸç†çš„æ¸…æ´—æœºï¼Œå½“å¯¹è±¡ä¸Žå®ƒä»¬çš„ä¾èµ–å…³ç³»è¢«æä¾›æ—¶ï¼Œè§£è€¦æ•ˆæžœæ›´æ˜Žæ˜¾ã€‚å¯¹è±¡ä¸æŸ¥æ‰¾å®ƒçš„ä¾èµ–å…³ç³»ï¼Œä¹Ÿä¸çŸ¥é“ä¾èµ–å…³ç³»çš„ä½ç½®æˆ–ç±»ï¼Œè€Œè¿™ä¸€åˆ‡éƒ½ç”± Spring æ¡†æž¶æŽ§åˆ¶çš„ã€‚å¦‚ä¸‹å›¾ï¼š åŸºäºŽæž„é€ å™¨çš„ä¾èµ–æ³¨å…¥12345678910public class B &#123; public B() &#123; System.out.println("B()"); &#125; public void f1() &#123; System.out.println("B's f1()"); &#125;&#125; 12345678910111213141516public class A &#123; private B b; public A(B b) &#123;//é…ç½®æž„é€ å™¨ System.out.println("A(B)"); this.b = b; &#125; public A() &#123; System.out.println("A()"); &#125; public void execute() &#123; System.out.println(" execute()"); b.f1(); &#125; &#125; 1234&lt;bean id="b1" class="ioc2.B"/&gt; &lt;bean id="a1" class="ioc2.A"&gt; &lt;constructor-arg index="0" ref="b1"&gt;&lt;/constructor-arg&gt; &lt;/bean&gt; æž„é€ å™¨æ–¹æ³•æ³¨å…¥ï¼šconstructor-arg index:é€‰æ‹©æž„é€ å™¨ä¸­ç¬¬nä¸ªå‚æ•° å…¶ä»–æƒ…å†µï¼š 12345public class Foo &#123; public Foo(int year, String name) &#123; // ... &#125;&#125; 1234567&lt;beans&gt; &lt;bean id="exampleBean" class="examples.ExampleBean"&gt; &lt;constructor-arg type="int" value="2001"/&gt; &lt;constructor-arg type="java.lang.String" value="Zara"/&gt; &lt;/bean&gt;&lt;/beans&gt; æœ€åŽå¹¶ä¸”ä¹Ÿæ˜¯æœ€å¥½çš„ä¼ é€’æž„é€ å‡½æ•°å‚æ•°çš„æ–¹å¼ï¼Œä½¿ç”¨ index å±žæ€§æ¥æ˜¾å¼çš„æŒ‡å®šæž„é€ å‡½æ•°å‚æ•°çš„ç´¢å¼•ã€‚ä¸‹é¢æ˜¯åŸºäºŽç´¢å¼•ä¸º 0 çš„ä¾‹ 12345678&lt;beans&gt; &lt;bean id="exampleBean" class="examples.ExampleBean"&gt; &lt;constructor-arg index="0" value="2001"/&gt; &lt;constructor-arg index="1" value="Zara"/&gt; &lt;/bean&gt;&lt;/beans&gt; æœ€åŽï¼Œå¦‚æžœä½ æƒ³è¦å‘ä¸€ä¸ªå¯¹è±¡ä¼ é€’ä¸€ä¸ªå¼•ç”¨ï¼Œä½ éœ€è¦ä½¿ç”¨ æ ‡ç­¾çš„ ref å±žæ€§ï¼Œå¦‚æžœä½ æƒ³è¦ç›´æŽ¥ä¼ é€’å€¼ï¼Œé‚£ä¹ˆä½ åº”è¯¥ä½¿ç”¨å¦‚ä¸Šæ‰€ç¤ºçš„ value å±žæ€§ã€‚ åŸºäºŽSetteræ–¹æ³•çš„ä¾èµ–æ³¨å…¥Springä¼šæŠŠé…ç½®æ–‡ä»¶ä¸­å±žæ€§åçš„ç¬¬ä¸€ä¸ªå­—æ¯å¤§å†™æ¥è§£æžSetteræ–¹æ³•ã€‚ 12345678910public class B &#123; public B() &#123; System.out.println("B()"); &#125; public void f1() &#123; System.out.println("B's f1()"); &#125;&#125; 12345678910111213141516public class A &#123; private B b; public void setB(B b) &#123; System.out.println("setB()"); this.b = b; &#125; public A() &#123; System.out.println("A()"); &#125; public void execute() &#123; System.out.println("execute()"); b.f1(); &#125;&#125; 12345678910&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt;&lt;bean id="b1" class="ioc.B"/&gt;&lt;bean id="a1" class="ioc.A"&gt; &lt;property name="b" ref="b1"&gt;&lt;/property&gt;&lt;/bean&gt; &lt;/beans&gt; propertyå…ƒç´ ï¼šè¡¨ç¤ºä½¿ç”¨setæ–¹æ³•æ³¨å…¥ä¾èµ–å…³ç³»nameï¼šæŒ‡å®šå±žæ€§årefï¼šæŒ‡å®šå±žæ€§å€¼ 1234567main()&#123;//è¡¨ç¤ºmainå‡½æ•°AbstractApplicationContext ac = new ClassPathXmlApplicationContext( "ioc.xml"); A a1 = ac.getBean("a1",A.class); a1.execute(); &#125; æµ‹è¯•ä¸‹ç»“æžœå°±å‘çŽ°Bå·²ç»è¢«å®¹å™¨æ³¨å…¥äº†ï¼ æ‰©å±•ï¼šä½¿ç”¨ p-namespace å®žçŽ° XML é…ç½®ï¼š 12345678910111213&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt; &lt;bean id="john-classic" class="com.example.Person"&gt; &lt;property name="name" value="John Doe"/&gt; &lt;property name="spouse" ref="jane"/&gt; &lt;/bean&gt; &lt;bean name="jane" class="com.example.Person"&gt; &lt;property name="name" value="John Doe"/&gt; &lt;/bean&gt;&lt;/beans&gt; ä¸Šè¿° XML é…ç½®æ–‡ä»¶å¯ä»¥ä½¿ç”¨ p-namespace ä»¥ä¸€ç§æ›´ç®€æ´çš„æ–¹å¼é‡å†™ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt; &lt;bean id="john-classic" class="com.example.Person" p:name="John Doe" p:spouse-ref="jane"/&gt; &lt;/bean&gt; &lt;bean name="jane" class="com.example.Person" p:name="John Doe"/&gt; &lt;/bean&gt;&lt;/beans&gt; åœ¨è¿™é‡Œï¼Œä½ ä¸åº”è¯¥åŒºåˆ«æŒ‡å®šåŽŸå§‹å€¼å’Œå¸¦æœ‰ p-namespace çš„å¯¹è±¡å¼•ç”¨ã€‚-ref éƒ¨åˆ†è¡¨æ˜Žè¿™ä¸æ˜¯ä¸€ä¸ªç›´æŽ¥çš„å€¼ï¼Œè€Œæ˜¯å¯¹å¦ä¸€ä¸ª bean çš„å¼•ç”¨ã€‚ è‡ªåŠ¨è£…é… ä½ å·²ç»å­¦ä¼šå¦‚ä½•ä½¿ç”¨å…ƒç´ æ¥å£°æ˜Ž bean å’Œé€šè¿‡ä½¿ç”¨ XML é…ç½®æ–‡ä»¶ä¸­çš„å’Œå…ƒç´ æ¥æ³¨å…¥ ã€‚Spring å®¹å™¨å¯ä»¥åœ¨ä¸ä½¿ç”¨å’Œ å…ƒç´ çš„æƒ…å†µä¸‹è‡ªåŠ¨è£…é…ç›¸äº’åä½œçš„ bean ä¹‹é—´çš„å…³ç³»ï¼Œè¿™æœ‰åŠ©äºŽå‡å°‘ç¼–å†™ä¸€ä¸ªå¤§çš„åŸºäºŽ Spring çš„åº”ç”¨ç¨‹åºçš„ XML é…ç½®çš„æ•°é‡ã€‚ è‡ªåŠ¨è£…é…æ¨¡å¼ ï¼ˆè¾ƒå®˜æ–¹çš„ç‰ˆæœ¬ï¼‰ä¸‹åˆ—è‡ªåŠ¨è£…é…æ¨¡å¼ï¼Œå®ƒä»¬å¯ç”¨äºŽæŒ‡ç¤º Spring å®¹å™¨ä¸ºæ¥ä½¿ç”¨è‡ªåŠ¨è£…é…è¿›è¡Œä¾èµ–æ³¨å…¥ã€‚ä½ å¯ä»¥ä½¿ç”¨å…ƒç´ çš„ autowire å±žæ€§ä¸ºä¸€ä¸ª bean å®šä¹‰æŒ‡å®šè‡ªåŠ¨è£…é…æ¨¡å¼ï¼š æ¨¡å¼ æè¿° no è¿™æ˜¯é»˜è®¤çš„è®¾ç½®ï¼Œå®ƒæ„å‘³ç€æ²¡æœ‰è‡ªåŠ¨è£…é…ï¼Œä½ åº”è¯¥ä½¿ç”¨æ˜¾å¼çš„beanå¼•ç”¨æ¥è¿žçº¿ã€‚ä½ ä¸ç”¨ä¸ºäº†è¿žçº¿åšç‰¹æ®Šçš„äº‹ã€‚åœ¨ä¾èµ–æ³¨å…¥ç« èŠ‚ä½ å·²ç»çœ‹åˆ°è¿™ä¸ªäº†ã€‚ byName ç”±å±žæ€§åè‡ªåŠ¨è£…é…ã€‚Spring å®¹å™¨çœ‹åˆ°åœ¨ XML é…ç½®æ–‡ä»¶ä¸­ bean çš„è‡ªåŠ¨è£…é…çš„å±žæ€§è®¾ç½®ä¸º byNameã€‚ç„¶åŽå°è¯•åŒ¹é…ï¼Œå¹¶ä¸”å°†å®ƒçš„å±žæ€§ä¸Žåœ¨é…ç½®æ–‡ä»¶ä¸­è¢«å®šä¹‰ä¸ºç›¸åŒåç§°çš„ beans çš„å±žæ€§è¿›è¡Œè¿žæŽ¥ã€‚ byType ç”±å±žæ€§æ•°æ®ç±»åž‹è‡ªåŠ¨è£…é…ã€‚Spring å®¹å™¨çœ‹åˆ°åœ¨ XML é…ç½®æ–‡ä»¶ä¸­ bean çš„è‡ªåŠ¨è£…é…çš„å±žæ€§è®¾ç½®ä¸º byTypeã€‚ç„¶åŽå¦‚æžœå®ƒçš„ç±»åž‹åŒ¹é…é…ç½®æ–‡ä»¶ä¸­çš„ä¸€ä¸ªç¡®åˆ‡çš„ bean åç§°ï¼Œå®ƒå°†å°è¯•åŒ¹é…å’Œè¿žæŽ¥å±žæ€§çš„ç±»åž‹ã€‚å¦‚æžœå­˜åœ¨ä¸æ­¢ä¸€ä¸ªè¿™æ ·çš„ beanï¼Œåˆ™ä¸€ä¸ªè‡´å‘½çš„å¼‚å¸¸å°†ä¼šè¢«æŠ›å‡ºã€‚ constructor ç±»ä¼¼äºŽ byTypeï¼Œä½†è¯¥ç±»åž‹é€‚ç”¨äºŽæž„é€ å‡½æ•°å‚æ•°ç±»åž‹ã€‚å¦‚æžœåœ¨å®¹å™¨ä¸­æ²¡æœ‰ä¸€ä¸ªæž„é€ å‡½æ•°å‚æ•°ç±»åž‹çš„ beanï¼Œåˆ™ä¸€ä¸ªè‡´å‘½é”™è¯¯å°†ä¼šå‘ç”Ÿã€‚ autodetect Springé¦–å…ˆå°è¯•é€šè¿‡ constructor ä½¿ç”¨è‡ªåŠ¨è£…é…æ¥è¿žæŽ¥ï¼Œå¦‚æžœå®ƒä¸æ‰§è¡Œï¼ŒSpring å°è¯•é€šè¿‡ byType æ¥è‡ªåŠ¨è£…é… å‘ƒï¼Œç®€å•ç‚¹è¯´å§ï¼š è‡ªåŠ¨è£…é…ï¼šspringå®¹å™¨ä¾æ®æŸç§è§„åˆ™è‡ªåŠ¨å»ºç«‹å¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³» é»˜è®¤æƒ…å†µä¸‹ï¼Œå®¹å™¨ä¸ä¼šè‡ªåŠ¨è£…é… å¯ä»¥é€šè¿‡æŒ‡å®šautowireå±žæ€§å‘Šè¯‰å®¹å™¨è¿›è¡Œè‡ªåŠ¨è£…é…(æœ¬è´¨ä¸Šï¼Œå®¹å™¨ä»ç„¶æ˜¯setæˆ–æ˜¯æž„é€ å™¨æ³¨å…¥) æˆ‘ä»¬ä¸¾è¾ƒå¸¸ç”¨çš„æ —å­è¯´æ˜Žä¸‹ï¼šæˆ‘ä»¬æƒ³å°†Waiteræ³¨å…¥åˆ°Restrurantä¸­ 1234567public class Waiter &#123; public Waiter() &#123; System.out.println("Waiter()"); &#125;&#125; 12 1234&lt;bean id="waiter" class="ioc2.Waiter"&gt;&lt;/bean&gt;&lt;bean id="rest" class="ioc2.Restaurant" autowire="byName"&gt;&lt;/bean&gt;&lt;bean id="rest" class="ioc2.Restaurant" autowire="byType"&gt;&lt;/bean&gt;&lt;bean id="rest" class="ioc2.Restaurant" autowire="constructor"&gt;&lt;/bean&gt; æŠŠautowireå±žæ€§çš„ä¸‰ä¸ªå€¼è¿›è¡Œå¯¹æ¯”ï¼š byName:å®¹å™¨ä¾æ¬¡æŸ¥æ‰¾å±žæ€§åï¼ˆé…ç½®æ–‡ä»¶ä¸­beanèŠ‚ç‚¹çš„idæˆ–ç¬¬ä¸€ä¸ªnameå±žæ€§ï¼‰å¯¹åº”çš„beanï¼Œç„¶åŽè°ƒç”¨å¯¹åº”çš„setæ–¹æ³•æ¥å®Œæˆæ³¨å…¥ è‹¥æ‰¾ä¸åˆ°å¯¹åº”çš„beanï¼Œæ³¨å…¥ç©ºå€¼ã€‚ ä¸å¯èƒ½æ‰¾åˆ°å¤šä¸ªç¬¦åˆæ¡ä»¶çš„beanï¼ˆBeanä¸­ nameæˆ–idæ˜¯å”¯ä¸€çš„ï¼‰ byTypeï¼šå®¹å™¨æ¬¡æŸ¥æ‰¾ï¼ˆé…ç½®æ–‡ä»¶ä¸­å¯¹åº”ç±»ä¸­ç±»åž‹ï¼‰å±žæ€§ç±»åž‹å¯¹åº”çš„beanï¼Œç„¶åŽè°ƒç”¨å¯¹åº”çš„setæ–¹æ³•æ¥å®Œæˆæ³¨å…¥ è‹¥æ‰¾ä¸åˆ°å¯¹åº”çš„beanï¼Œæ³¨å…¥ç©ºå€¼ã€‚ å¤šä¸ªç¬¦åˆæ¡ä»¶çš„beanä¼šæŠ¥é”™ï¼ˆä¸€ä¸ªå˜é‡åªèƒ½æœ‰ä¸€ä¸ªå€¼ï¼‰ constructor:ç±»ä¼¼äºŽbyTypeå®¹å™¨æ¬¡æŸ¥æ‰¾å±žæ€§ç±»åž‹å¯¹åº”çš„beanï¼Œç„¶åŽè°ƒç”¨å¯¹åº”çš„æž„é€ å™¨æ¥å®Œæˆæ³¨å…¥ æŽ¨èä¼˜å…ˆä½¿ç”¨byNameæ–¹æ³•ã€‚ æ³¨å…¥åŸºæœ¬ç±»åž‹çš„å€¼åŸºæœ¬æ•°æ®ç±»åž‹æˆ‘ä»¬é€šè¿‡valueè¿›è¡Œæ³¨å…¥,ä¾æ—§æ˜¯setæ–¹æ³•æˆ–æž„é€ å™¨æ–¹æ³•æ³¨å…¥ä¸ºsetæ–¹æ³•å†™ä¸€ä¸ªç¤ºä¾‹ï¼šï¼ˆå½“ç„¶åœ¨ç±»ä¸­è¦æœ‰setæ–¹æ³•ï¼‰ï¼Œæž„é€ å™¨æ–¹æ³•è¯·è‡ªå·±ä¸¾ä¸€åä¸‰â˜º 1234&lt;bean id="vb1" class="value.ValueBean"&gt; &lt;property name="name" value="å¼ ä¸‰"&gt;&lt;/property&gt; &lt;property name="age"value="30"&gt;&lt;/property&gt;&lt;/bean&gt; æ³¨å…¥å†…éƒ¨beans Java å†…éƒ¨ç±»æ˜¯åœ¨å…¶ä»–ç±»çš„èŒƒå›´å†…è¢«å®šä¹‰çš„ï¼ŒåŒç†ï¼Œinner beans æ˜¯åœ¨å…¶ä»– bean çš„èŒƒå›´å†…å®šä¹‰çš„ beanã€‚å› æ­¤åœ¨ æˆ– å…ƒç´ å†… å…ƒç´ è¢«ç§°ä¸ºå†…éƒ¨beanï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚ 12345&lt;bean id="outerBean" class="ioc.B"&gt; &lt;property name="target"&gt; &lt;bean id="innerBean" class="ioc.A"/&gt; &lt;/property&gt;&lt;/bean&gt; æ³¨å…¥é›†åˆ ä½ å·²ç»çœ‹åˆ°äº†å¦‚ä½•ä½¿ç”¨ value å±žæ€§æ¥é…ç½®åŸºæœ¬æ•°æ®ç±»åž‹å’Œåœ¨ä½ çš„ bean é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨æ ‡ç­¾çš„ ref å±žæ€§æ¥é…ç½®å¯¹è±¡å¼•ç”¨ã€‚è¿™ä¸¤ç§æƒ…å†µä¸‹å¤„ç†å¥‡å¼‚å€¼ä¼ é€’ç»™ä¸€ä¸ª beanã€‚çŽ°åœ¨å¦‚æžœä½ æƒ³ä¼ é€’å¤šä¸ªå€¼ï¼Œå¦‚ Java Collection ç±»åž‹ Listã€Setã€Map å’Œ Propertiesï¼Œåº”è¯¥æ€Žä¹ˆåšå‘¢ã€‚ä¸ºäº†å¤„ç†è¿™ç§æƒ…å†µï¼ŒSpring æä¾›äº†å››ç§ç±»åž‹çš„é›†åˆçš„é…ç½®å…ƒç´  123456789101112131415161718192021222324252627282930313233343536373839import java.util.*;public class ValueBean &#123; public ValueBean() &#123; System.out.println("ValueBean()"); &#125; private String name; private int age; private List&lt;String&gt; list1 ; private Set&lt;String&gt; interest; private Map&lt;String,Double&gt; mapa; private Properties db; public void setDb(Properties db) &#123; this.db = db; &#125; public void setMapa(Map&lt;String, Double&gt; mapa) &#123; this.mapa = mapa; &#125; public void setInterest(Set&lt;String&gt; interest) &#123; this.interest = interest; &#125; public void setName(String name) &#123; this.name = name; &#125; public void setAge(int age) &#123; this.age = age; &#125; public void setList1(List&lt;String&gt; list1) &#123; this.list1 = list1; &#125; @Override public String toString() &#123; return "ValueBean [name=" + name + ", age=" + age + ", list1=" + list1 + ", interest=" + interest + ", mapa=" + mapa + ", db=" + db + "]"; &#125;&#125; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647&lt;bean id="vb1" class="value.ValueBean"&gt; &lt;property name="name" value="å¼ ä¸‰"&gt;&lt;/property&gt; &lt;property name="age" value="30"&gt;&lt;/property&gt; &lt;!--æ³¨å…¥é›†åˆ --&gt; &lt;property name="list1"&gt; &lt;list&gt; &lt;value&gt;åŒ—äº¬&lt;/value&gt; &lt;value&gt;ä¸Šæµ·&lt;/value&gt; &lt;value&gt;å¹¿å·ž&lt;/value&gt; &lt;value&gt;å‘¼å’Œæµ©ç‰¹&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;property name="interest"&gt; &lt;!-- æ³¨å…¥Set --&gt; &lt;set&gt; &lt;value&gt;ç¯®çƒ&lt;/value&gt; &lt;value&gt;è¶³çƒ&lt;/value&gt; &lt;value&gt;æŽ’çƒ&lt;/value&gt; &lt;value&gt;æ¸¸æ³³&lt;/value&gt; &lt;/set&gt; &lt;/property&gt; &lt;!-- æ³¨å…¥Map --&gt; &lt;property name="mapa"&gt; &lt;map&gt; &lt;entry key="english" value="60" /&gt; &lt;entry key="math" value="66" /&gt; &lt;entry key="åŽ†å²" value="60" /&gt; &lt;/map&gt; &lt;/property&gt; &lt;!-- æ³¨å…¥properties --&gt; &lt;property name="db"&gt; &lt;props&gt; &lt;prop key="username"&gt;Tiger&lt;/prop&gt; &lt;prop key="password"&gt;12345&lt;/prop&gt; &lt;/props&gt; &lt;/property&gt; &lt;/bean&gt; &lt;!-- å¼•ç”¨æ–¹å¼æ³¨å…¥é›†åˆ --&gt; &lt;!-- è¿™æ ·å†™ï¼Œå¯ä»¥ä½¿é›†åˆè¿›è¡Œå¤ç”¨ --&gt; &lt;util:list id="cityBean" &gt; &lt;value&gt;ä¸Šæµ·&lt;/value&gt; &lt;value&gt;åŒ—äº¬&lt;/value&gt; &lt;value&gt;å‘¼å’Œæµ©ç‰¹&lt;/value&gt; &lt;/util:list&gt; &lt;bean id="vb2" class="value.ValueBean"&gt; &lt;property name="list1" ref="cityBean"&gt;&lt;/property&gt; &lt;/bean&gt; æœ¬æ–‡ç”¨äºŽå­¦ä¹ å’Œåˆ†äº«ï¼Œæœ‰ä¸è¶³ä¹‹å¤„è¯·æŒ‡å‡º]]></content>
      <categories>
        <category>stadyNotes</category>
      </categories>
      <tags>
        <tag>Spring</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Springå­¦ä¹ ç¬¬ä¸€ç«  ã€ ç¬¬ä¸€èŠ‚ï¼šSpring Iocå®¹å™¨]]></title>
    <url>%2Fpost%2F46992110.html</url>
    <content type="text"><![CDATA[å‰è¨€ä¸Šä¸€ç« è®²è¿‡æœ‰å…³IoCï¼ˆInversion of Control æŽ§åˆ¶åè½¬ï¼‰çš„å†…å®¹ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹è¿™æŒ‡çš„æ˜¯ä»€ä¹ˆï¼š æŽ§åˆ¶åè½¬ï¼ˆInversion of Controlï¼Œç¼©å†™ä¸ºIoCï¼‰ï¼Œæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„ä¸€ç§è®¾è®¡åŽŸåˆ™ï¼Œå¯ä»¥ç”¨æ¥å‡ä½Žè®¡ç®—æœºä»£ç ä¹‹é—´çš„è€¦åˆåº¦ã€‚å…¶ä¸­æœ€å¸¸è§çš„æ–¹å¼å«åšä¾èµ–æ³¨å…¥ï¼ˆDependency Injectionï¼Œç®€ç§°DIï¼‰ï¼Œè¿˜æœ‰ä¸€ç§æ–¹å¼å«â€œä¾èµ–æŸ¥æ‰¾â€ï¼ˆDependency Lookupï¼‰ã€‚é€šè¿‡æŽ§åˆ¶åè½¬ï¼Œå¯¹è±¡åœ¨è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œç”±ä¸€ä¸ªè°ƒæŽ§ç³»ç»Ÿå†…æ‰€æœ‰å¯¹è±¡çš„å¤–ç•Œå®žä½“ï¼Œå°†å…¶æ‰€ä¾èµ–çš„å¯¹è±¡çš„å¼•ç”¨ä¼ é€’ç»™å®ƒã€‚ä¹Ÿå¯ä»¥è¯´ï¼Œä¾èµ–è¢«æ³¨å…¥åˆ°å¯¹è±¡ä¸­ã€‚ å¥½å§ï¼Œå…¶å®žæˆ‘çœ‹å®Œè¿™æ®µè¯è¿™æ®µè¯ä¹Ÿæ˜¯ä¸ˆäºŒå’Œå°šæ‘¸ä¸ç€å¤´è„‘ï¼Œå¦‚æžœéžè¦ç”¨æˆ‘çš„ç†è§£è¯´çš„è¯ï¼ˆåœ¨springä¸­ï¼‰ï¼ŒæŽ§åˆ¶åè½¬å°±æ˜¯å°†å®žä¾‹åŒ–å¯¹è±¡çš„ä»»åŠ¡äº¤ç»™äº†IoCå®¹å™¨ã€‚juoä¸ªæ¢¨å­~ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨newçš„æ–¹æ³•å®žä¾‹åŒ–ä¸€ä¸ªBeanå¯¹è±¡ï¼ˆå®žé™…ä¸Šæ˜¯POJOï¼ŒBeanæ›´å¥½ç†è§£ä¸€äº›ï¼Œå¦‚æžœæƒ³äº†è§£POJOå¯ä»¥å‚è€ƒï¼šBeanã€POJOã€DAOã€EJBçš„åŒºåˆ«ï¼‰æ¥è¿›è¡Œæ•°æ®çš„ä¼ é€’ç­‰ï¼š123Student s1 = new Student();s1.setName("å¼ ");s1.setAge(20); ä½†æ˜¯ï¼Œåœ¨springä¸­ï¼Œå¯èƒ½ä¼šé‡‡ç”¨XMLæˆ–æ³¨è§£å¯¹Beanå¯¹è±¡è¿›è¡Œå‚æ•°æ³¨å…¥ï¼ˆæ²¡é”™å°±æ˜¯æ³¨å…¥ï¼ŒåŽé¢ç« èŠ‚ä¼šæåˆ°å“¦ï¼‰æ‰€ä»¥å¯ä»¥è¯´springæ˜¯é‡‡ç”¨ä¾èµ–æ³¨å…¥çš„æ–¹å¼å®žçŽ°æŽ§åˆ¶åè½¬çš„ï¼Œå¯ä»¥æŠŠå¯¹è±¡ä»Žåº”ç”¨ä¸­è§£è€¦å‡ºåŽ»ï¼ˆä¸ªäººç†è§£ï¼‰ã€‚ æ²¡é”™ï¼Œè¿™ä¸€ç« å°±ä¼šå›´ç»•æŽ§åˆ¶åè½¬å¯¹Springè¿›è¡Œå­¦ä¹ ã€‚ æ­£æ–‡Spring IoC å®¹å™¨IoC å®¹å™¨é¦–å…ˆçœ‹ä¸€äº›æ¦‚å¿µ IoC å®¹å™¨Spring å®¹å™¨æ˜¯ Spring æ¡†æž¶çš„æ ¸å¿ƒã€‚å®¹å™¨å°†åˆ›å»ºå¯¹è±¡ï¼ŒæŠŠå®ƒä»¬è¿žæŽ¥åœ¨ä¸€èµ·ï¼Œé…ç½®å®ƒä»¬ï¼Œå¹¶ç®¡ç†ä»–ä»¬çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä»Žåˆ›å»ºåˆ°é”€æ¯ã€‚Spring å®¹å™¨ä½¿ç”¨ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰æ¥ç®¡ç†ç»„æˆä¸€ä¸ªåº”ç”¨ç¨‹åºçš„ç»„ä»¶ã€‚è¿™äº›å¯¹è±¡è¢«ç§°ä¸º Spring Beans.é€šè¿‡é˜…è¯»é…ç½®å…ƒæ•°æ®æä¾›çš„æŒ‡ä»¤ï¼Œå®¹å™¨çŸ¥é“å¯¹å“ªäº›å¯¹è±¡è¿›è¡Œå®žä¾‹åŒ–ï¼Œé…ç½®å’Œç»„è£…ã€‚é…ç½®å…ƒæ•°æ®å¯ä»¥é€šè¿‡ XMLï¼ŒJava æ³¨é‡Šæˆ– Java ä»£ç æ¥è¡¨ç¤ºã€‚ä¸‹å›¾æ˜¯ Spring å¦‚ä½•å·¥ä½œçš„é«˜çº§è§†å›¾ã€‚ Spring IoC å®¹å™¨åˆ©ç”¨ Java çš„ POJO ç±»å’Œé…ç½®å…ƒæ•°æ®æ¥ç”Ÿæˆå®Œå…¨é…ç½®å’Œå¯æ‰§è¡Œçš„ç³»ç»Ÿæˆ–åº”ç”¨ç¨‹åºã€‚IOC å®¹å™¨å…·æœ‰ä¾èµ–æ³¨å…¥åŠŸèƒ½çš„å®¹å™¨ï¼Œå®ƒå¯ä»¥åˆ›å»ºå¯¹è±¡ï¼ŒIOC å®¹å™¨è´Ÿè´£å®žä¾‹åŒ–ã€å®šä½ã€é…ç½®åº”ç”¨ç¨‹åºä¸­çš„å¯¹è±¡åŠå»ºç«‹è¿™äº›å¯¹è±¡é—´çš„ä¾èµ–ã€‚é€šå¸¸newä¸€ä¸ªå®žä¾‹ï¼ŒæŽ§åˆ¶æƒç”±ç¨‹åºå‘˜æŽ§åˆ¶ï¼Œè€Œâ€æŽ§åˆ¶åè½¬â€æ˜¯æŒ‡newå®žä¾‹å·¥ä½œä¸ç”±ç¨‹åºå‘˜æ¥åšè€Œæ˜¯äº¤ç»™Springå®¹å™¨æ¥åšã€‚åœ¨Springä¸­BeanFactoryæ˜¯IOCå®¹å™¨çš„å®žé™…ä»£è¡¨è€…ã€‚ åºå· æè¿° 1 Spring BeanFactory å®¹å™¨ã€‚ å®ƒæ˜¯æœ€ç®€å•çš„å®¹å™¨ï¼Œç»™ DI æä¾›äº†åŸºæœ¬çš„æ”¯æŒï¼Œå®ƒç”¨ org.springframework.beans.factory.BeanFactory æŽ¥å£æ¥å®šä¹‰. BeanFactory æˆ–è€…ç›¸å…³çš„æŽ¥å£ï¼Œå¦‚ BeanFactoryAwareï¼ŒInitializingBeanï¼ŒDisposableBeanï¼Œåœ¨ Spring ä¸­ä»ç„¶å­˜åœ¨å…·æœ‰å¤§é‡çš„ä¸Ž Spring æ•´åˆçš„ç¬¬ä¸‰æ–¹æ¡†æž¶çš„åå‘å…¼å®¹æ€§çš„ç›®çš„ã€‚ 2 2 Spring ApplicationContext å®¹å™¨ã€‚è¯¥å®¹å™¨æ·»åŠ äº†æ›´å¤šçš„ä¼ä¸šç‰¹å®šçš„åŠŸèƒ½ï¼Œä¾‹å¦‚ä»Žä¸€ä¸ªå±žæ€§æ–‡ä»¶ä¸­è§£æžæ–‡æœ¬ä¿¡æ¯çš„èƒ½åŠ›ï¼Œå‘å¸ƒåº”ç”¨ç¨‹åºäº‹ä»¶ç»™æ„Ÿå…´è¶£çš„äº‹ä»¶ç›‘å¬å™¨çš„èƒ½åŠ›ã€‚è¯¥å®¹å™¨æ˜¯ç”± org.springframework.context.ApplicationContext æŽ¥å£å®šä¹‰ã€‚ ApplicationContext å®¹å™¨åŒ…æ‹¬ BeanFactory å®¹å™¨çš„æ‰€æœ‰åŠŸèƒ½ï¼Œæ‰€ä»¥é€šå¸¸å»ºè®®è¶…è¿‡ BeanFactoryã€‚BeanFactory ä»ç„¶å¯ä»¥ç”¨äºŽè½»é‡çº§çš„åº”ç”¨ç¨‹åºï¼Œå¦‚ç§»åŠ¨è®¾å¤‡æˆ–åŸºäºŽ applet çš„åº”ç”¨ç¨‹åºï¼Œå…¶ä¸­å®ƒçš„æ•°æ®é‡å’Œé€Ÿåº¦æ˜¯æ˜¾è‘—ã€‚ Spring BeanFactory å®¹å™¨å…ˆæ¥ä¸€ä¸ªè¾ƒä¸ºå®˜æ–¹çš„è§£é‡Šï¼ˆæºè‡ªw3cSchoolï¼‰ï¼š è¿™æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„å®¹å™¨ï¼Œå®ƒä¸»è¦çš„åŠŸèƒ½æ˜¯ä¸ºä¾èµ–æ³¨å…¥ ï¼ˆDIï¼‰ æä¾›æ”¯æŒï¼Œè¿™ä¸ªå®¹å™¨æŽ¥å£åœ¨ org.springframework.beans.factory.BeanFactor ä¸­è¢«å®šä¹‰ã€‚BeanFactory å’Œç›¸å…³çš„æŽ¥å£ï¼Œæ¯”å¦‚BeanFactoryAwareã€DisposableBeanã€InitializingBeanï¼Œä»æ—§ä¿ç•™åœ¨ Spring ä¸­ï¼Œä¸»è¦ç›®çš„æ˜¯å‘åŽå…¼å®¹å·²ç»å­˜åœ¨çš„å’Œé‚£äº› Spring æ•´åˆåœ¨ä¸€èµ·çš„ç¬¬ä¸‰æ–¹æ¡†æž¶ã€‚åœ¨ Spring ä¸­ï¼Œæœ‰å¤§é‡å¯¹ BeanFactory æŽ¥å£çš„å®žçŽ°ã€‚å…¶ä¸­ï¼Œæœ€å¸¸è¢«ä½¿ç”¨çš„æ˜¯ XmlBeanFactory ç±»ã€‚è¿™ä¸ªå®¹å™¨ä»Žä¸€ä¸ª XML æ–‡ä»¶ä¸­è¯»å–é…ç½®å…ƒæ•°æ®ï¼Œç”±è¿™äº›å…ƒæ•°æ®æ¥ç”Ÿæˆä¸€ä¸ªè¢«é…ç½®åŒ–çš„ç³»ç»Ÿæˆ–è€…åº”ç”¨ã€‚åœ¨èµ„æºå®è´µçš„ç§»åŠ¨è®¾å¤‡æˆ–è€…åŸºäºŽ applet çš„åº”ç”¨å½“ä¸­ï¼Œ BeanFactory ä¼šè¢«ä¼˜å…ˆé€‰æ‹©ã€‚å¦åˆ™ï¼Œä¸€èˆ¬ä½¿ç”¨çš„æ˜¯ ApplicationContextï¼Œé™¤éžä½ æœ‰æ›´å¥½çš„ç†ç”±é€‰æ‹© BeanFactoryã€‚ é¢ã€‚ã€‚ã€‚ä¾æ—§æ˜¯è¯´äº†ä¸€å¤§å †==ï¼Œæ— æ³•å½¢è±¡çš„è¡¨ç¤ºè¿›è¡Œç†è§£ï¼Œæˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„Springåº”ç”¨ç¨‹åºæ¥ä½“ä¼šä»€ä¹ˆæ˜¯Springå®¹å™¨ã€‚ é¦–å…ˆåœ¨ä½ çš„IDEä¸­åˆ›å»ºä¸€ä¸ªå·¥ç¨‹ï¼Œå¹¶åœ¨srcæ–‡ä»¶å¤¹ä¸‹æ–°å»ºåŒ…æˆ–æ–‡ä»¶å¤¹ï¼Œè¿™é‡Œæˆ‘ä»¬åˆ›å»ºåä¸ºcom.helloåŒ… å°†Springçš„åº“æ–‡ä»¶ï¼ˆ.jaråŒ…ï¼‰å¯¼å…¥é¡¹ç›®ä¸­ï¼ˆå¯ä»¥ç›´æŽ¥å¯¼å…¥ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€äº›è‡ªåŠ¨åŒ–éƒ¨ç½²å·¥å…·å¦‚ï¼šMavenã€Gradleç­‰å¯¼å…¥ï¼‰ åœ¨com.helloä¸‹åˆ›å»ºHelloWorld.javaï¼Œåœ¨srcä¸‹åˆ›å»ºMain.java1234567891011 package com.hello;public class HelloWorld &#123; private String message; //è¿™é‡Œéœ€è¦è®¾ç½®setï¼Œgetæ–¹æ³•ç”¨äºŽä¹‹åŽå®¹å™¨å¯¹å¯¹è±¡å±žæ€§è¿›è¡Œæ³¨å…¥ public void setMessage(String message)&#123; this.message = message; &#125; public void getMessage()&#123; System.out.println("Message : " + message); &#125;&#125; 12345678910111213import org.springframework.beans.factory.InitializingBean;import org.springframework.beans.factory.xml.XmlBeanFactory;import org.springframework.core.io.ClassPathResource;public class Main &#123; public static void main(String[] args) &#123; //å®žä¾‹åŒ–XmlBeanFactoryå®¹å™¨ï¼Œä¼šåˆ©ç”¨ ClassPathResource() API åŽ»åŠ è½½åœ¨è·¯å¾„ CLASSPATH ä¸‹å¯ç”¨çš„ bean é…ç½®æ–‡ä»¶ï¼Œåˆå§‹åŒ–åˆ›å»ºå¹¶åˆå§‹åŒ–é…ç½®æ–‡ä»¶ä¸­çš„å¯¹è±¡ XmlBeanFactory factory = new XmlBeanFactory (new ClassPathResource("ioc.xml")); //é€šè¿‡é…ç½®æ–‡ä»¶ä¸­çš„ bean ID æ¥è¿”å›žä¸€ä¸ªçœŸæ­£çš„å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æœ€åŽå¯ä»¥ç”¨äºŽå®žé™…çš„å¯¹è±¡ã€‚ä¸€æ—¦å¾—åˆ°è¿™ä¸ªå¯¹è±¡ï¼Œä½ å°±å¯ä»¥åˆ©ç”¨è¿™ä¸ªå¯¹è±¡æ¥è°ƒç”¨ä»»ä½•æ–¹æ³•ã€‚ HelloWorld obj = (HelloWorld) factory.getBean("helloWorld"); obj.getMessage(); &#125;&#125; 4.åœ¨srcä¸‹åˆ›å»ºå®¹å™¨çš„é…ç½®æ–‡ä»¶ioc.xml 12345678910111213&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"&gt; &lt;!-- idæ˜¯ç”¨äºŽä¹‹åŽiocå®¹å™¨èŽ·å–ï¼Œè€Œpropertyæ˜¯æŒ‡ä½¿ç”¨setæ–¹æ³•æ³¨å…¥ä¾èµ–å…³ç³»ï¼ˆä¹‹åŽè¯¦ç»†æåŠï¼‰ --&gt; &lt;bean id="helloWorld" class="com.tutorialspoint.HelloWorld"&gt; &lt;property name="message" value="Hello World!"/&gt; &lt;/bean&gt;&lt;/beans&gt; æœ€åŽè¿è¡Œå¾—åˆ°çš„ç»“æžœåº”è¯¥æ˜¯ï¼š1message: Hello World! Spring ApplicationContext å®¹å™¨ä¸€äº›èµ˜è¿°ï¼ˆæ¯”è¾ƒå®˜æ–¹çš„ä¸œè¥¿ä»¥åŽæ¥çœ‹æ²¡å‡†æœ‰ä¸åŒçš„ä½“ä¼šï¼‰ï¼š Spring ApplicationContext å®¹å™¨Application Context æ˜¯ BeanFactory çš„å­æŽ¥å£ï¼Œä¹Ÿè¢«æˆä¸º Spring ä¸Šä¸‹æ–‡ã€‚Application Context æ˜¯ spring ä¸­è¾ƒé«˜çº§çš„å®¹å™¨ã€‚å’Œ BeanFactory ç±»ä¼¼ï¼Œå®ƒå¯ä»¥åŠ è½½é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„ beanï¼Œå°†æ‰€æœ‰çš„ bean é›†ä¸­åœ¨ä¸€èµ·ï¼Œå½“æœ‰è¯·æ±‚çš„æ—¶å€™åˆ†é… beanã€‚ å¦å¤–ï¼Œå®ƒå¢žåŠ äº†ä¼ä¸šæ‰€éœ€è¦çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ï¼Œä»Žå±žæ€§æ–‡ä»¶ä¸­è§£æžæ–‡æœ¬ä¿¡æ¯å’Œå°†äº‹ä»¶ä¼ é€’ç»™æ‰€æŒ‡å®šçš„ç›‘å¬å™¨ã€‚è¿™ä¸ªå®¹å™¨åœ¨ org.springframework.context.ApplicationContext interface æŽ¥å£ä¸­å®šä¹‰ã€‚ApplicationContext åŒ…å« BeanFactory æ‰€æœ‰çš„åŠŸèƒ½ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç›¸å¯¹äºŽ BeanFactoryï¼ŒApplicationContext ä¼šæ›´åŠ ä¼˜ç§€ã€‚å½“ç„¶ï¼ŒBeanFactory ä»å¯ä»¥åœ¨è½»é‡çº§åº”ç”¨ä¸­ä½¿ç”¨ï¼Œæ¯”å¦‚ç§»åŠ¨è®¾å¤‡æˆ–è€…åŸºäºŽ applet çš„åº”ç”¨ç¨‹åºã€‚æœ€å¸¸è¢«ä½¿ç”¨çš„ ApplicationContext æŽ¥å£å®žçŽ°ï¼š FileSystemXmlApplicationContextï¼šè¯¥å®¹å™¨ä»Ž XML æ–‡ä»¶ä¸­åŠ è½½å·²è¢«å®šä¹‰çš„ beanã€‚åœ¨è¿™é‡Œï¼Œä½ éœ€è¦æä¾›ç»™æž„é€ å™¨ XML æ–‡ä»¶çš„å®Œæ•´è·¯å¾„ã€‚ ClassPathXmlApplicationContextï¼šè¯¥å®¹å™¨ä»Ž XML æ–‡ä»¶ä¸­åŠ è½½å·²è¢«å®šä¹‰çš„ beanã€‚åœ¨è¿™é‡Œï¼Œä½ ä¸éœ€è¦æä¾› XML æ–‡ä»¶çš„å®Œæ•´è·¯å¾„ï¼Œåªéœ€æ­£ç¡®é…ç½® CLASSPATH çŽ¯å¢ƒå˜é‡å³å¯ï¼Œå› ä¸ºï¼Œå®¹å™¨ä¼šä»Ž CLASSPATH ä¸­æœç´¢ bean é…ç½®æ–‡ä»¶ã€‚ WebXmlApplicationContextï¼šè¯¥å®¹å™¨ä¼šåœ¨ä¸€ä¸ª web åº”ç”¨ç¨‹åºçš„èŒƒå›´å†…åŠ è½½åœ¨ XML æ–‡ä»¶ä¸­å·²è¢«å®šä¹‰çš„ beanã€‚ ä¹‹å‰å·²ç»å¯¹BeanFactoryè¿›è¡Œäº†ç¤ºä¾‹ï¼Œåœ¨å¯¼åŒ…ç­‰æ­¥éª¤æ²¡æœ‰å…¶ä»–åŒºåˆ«ï¼Œæˆ‘ä»¬åªçœ‹åœ¨å®¹å™¨åˆå§‹åŒ– çš„Mainæ–¹æ³•ä¸Šçš„åŒºåˆ«:FileSystemXmlApplicationContext 12345678910import org.springframework.context.ApplicationContext;import org.springframework.context.support.FileSystemXmlApplicationContext;public class MainApp &#123; public static void main(String[] args) &#123; ApplicationContext context = new FileSystemXmlApplicationContext ("C:workspace/HelloSpring/src/ioc.xml"); HelloWorld obj = (HelloWorld) context.getBean("helloWorld"); obj.getMessage(); &#125;&#125; ClassPathXmlApplicationContextï¼š1234567891011121314import org.springframework.context.ApplicationContext;import org.springframework.context.support.AbstractApplicationContext;import org.springframework.context.support.ClassPathXmlApplicationContext;package com.hello.HelloWorld;public class MainApp &#123; public static void main(String[] args) &#123; ApplicationContext ac = new ClassPathXmlApplicationContext( "scope.xml"); //èŽ·å¾—å¯¹è±¡ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œæ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼‰ HelloWorld hello = ac.getBean("helloWorld",HelloWorld.class); hello.getMessage(); &#125;&#125; å‘çŽ°æœ‰ä»€ä¹ˆä¸åŒå˜›ï¼Ÿå†çœ‹ä¸€éï¼š12345678910import org.springframework.context.ApplicationContext;import org.springframework.context.support.ClassPathXmlApplicationContext;public class MainApp &#123; public static void main(String[] args) &#123; ApplicationContext context = new ClassPathXmlApplicationContext("Beans.xml"); HelloWorld obj = (HelloWorld) context.getBean("helloWorld"); obj.getMessage(); &#125;&#125; è¿™äº›æ —å­åº”è¯¥èƒ½æ‰¾åˆ°å…¶ä¸­çš„è§„å¾‹å§ï¼Œé‚£ä¹ˆæœ€åŽä¸€ä¸ªå°±æ€»ç»“ä¸€ä¸‹ï¼Œä¹‹åŽä¼šæœ‰ä¸“é—¨çš„ç« èŠ‚è®²WebApplicationContextã€‚ XmlWebApplicationContextï¼šä»ŽWebç³»ç»Ÿä¸­çš„XMLæ–‡ä»¶æ¥è½½å…¥Beanå®šä¹‰çš„ä¿¡12ServletContext servletContext = request.getSession().getServletContext(); ApplicationContext ctx = WebApplicationContextUtils.getWebApplicationContext(servletContext); é…ç½®WebApplicationContextçš„ä¸¤ç§æ–¹æ³•ï¼š åˆ©ç”¨ListeneræŽ¥å£æ¥å®žçŽ° 1234567891011121314151617&lt;listener&gt; &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;&lt;/listener&gt;&lt;context-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:applicationContext&lt;/param-value&gt;&lt;/context-param&gt; åˆ©ç”¨ServletæŽ¥å£æ¥å®žçŽ° 1234567&lt;context-param&gt;&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;&lt;param-value&gt;classpath:applicationContext&lt;/param-value&gt;&lt;/context-param&gt; 1234567891011&lt;Servlet&gt; &lt;servlet-name&gt;context&lt;/servlet-name&gt; &lt;servlet-class&gt; org.springframework.web.context.ContextLoaderServlet &lt;/servlet-class&gt;&lt;/servlet&gt; Spring BeanSpring Bean å®šä¹‰ è¢«ç§°ä½œ bean çš„å¯¹è±¡æ˜¯æž„æˆåº”ç”¨ç¨‹åºçš„æ”¯æŸ±ä¹Ÿæ˜¯ç”± Spring IoC å®¹å™¨ç®¡ç†çš„ã€‚bean æ˜¯ä¸€ä¸ªè¢«å®žä¾‹åŒ–ï¼Œç»„è£…ï¼Œå¹¶é€šè¿‡ Spring IoC å®¹å™¨æ‰€ç®¡ç†çš„å¯¹è±¡ã€‚è¿™äº› bean æ˜¯ç”±ç”¨å®¹å™¨æä¾›çš„é…ç½®å…ƒæ•°æ®åˆ›å»ºçš„ï¼Œä¾‹å¦‚ï¼Œå·²ç»åœ¨å…ˆå‰ç« èŠ‚çœ‹åˆ°çš„ï¼Œåœ¨ XML çš„è¡¨å•ä¸­çš„ å®šä¹‰ã€‚ é…ç½®å…ƒæ•°æ®ï¼ˆåˆ›å»ºå¯¹è±¡ï¼‰æ³¨æ„ï¼æŽ¥ä¸‹æ¥çš„é…ç½®æ–‡ä»¶xmlä¼šä»¥ä¸åŒçš„åç§°è¡¨çŽ°åœ¨ä¸åŒç« èŠ‚ï¼Œè¯¥ç« èŠ‚çš„xmlæ–‡ä»¶åä¸Žè¯¥ç« èŠ‚çš„å®¹å™¨å¯åŠ¨æ—¶åŠ è½½çš„xmlæ–‡ä»¶åå°†ä¼šç›¸åŒï¼Œ ä½¿ç”¨æ— å‚æž„é€ å™¨åˆ›å»ºå¯¹è±¡123456package ioc; public class B&#123; public B()&#123; //ç»™ç±»æ·»åŠ æ— å‚æž„é€ å™¨ï¼Œè™½ç„¶é»˜è®¤æœ‰è¯¥æž„é€ å™¨ï¼Œè¿™é‡Œä½œä¸ºè¯´æ˜Žã€‚ &#125;&#125; 1234&lt;!-- ä½¿ç”¨æ— å‚æž„é€ å™¨åˆ›å»ºå¯¹è±¡--&gt;&lt;beans&gt;&lt;bean id="b1" class="ioc.B"/&gt;&lt;/beans&gt; classï¼šè¿™ä¸ªå±žæ€§æ˜¯å¼ºåˆ¶æ€§çš„ï¼Œå¹¶ä¸”æŒ‡å®šç”¨æ¥åˆ›å»º bean çš„ bean ç±»ã€‚ï¼ˆä½¿ç”¨å…¨é™å®šåï¼‰idï¼šæŒ‡å®šbeançš„åç§°,å”¯ä¸€ï¼ˆä¼šé€šè¿‡idèŽ·å¾—å¯¹è±¡ï¼‰ã€‚12345//å¯åŠ¨springå®¹å™¨ApplicationContext ac = new ClassPathXmlApplicationContext("bean.xml");//èŽ·å–å¯¹è±¡B b1 = (B)ac.getBean("b1");//å› ä¸ºè¿”å›žçš„æ˜¯Objectç±»ï¼Œæ‰€ä»¥éœ€è¦å¼ºè½¬B b1 = ac.getBean("b1",B.class)//æŒ‡å®šè¿”å›žç±»åž‹ï¼Œä¸éœ€è¦å¼ºè½¬ è¿™æ ·å°±å¯ä»¥è¿›è¡Œæ— å‚æž„é€ å™¨æ–¹å¼çš„åˆ›å»ºå¯¹è±¡äº†ï¼ ä½¿ç”¨é™æ€å·¥åŽ‚æ–¹æ³•åˆ›å»ºå¯¹è±¡ï¼š 1234&lt;bean id="cal1" class="java.util.Calendar"factory-method="getInstance"&gt;&lt;/bean&gt; factory-mothodï¼šè°ƒç”¨å·¥åŽ‚æ–¹æ³•å®žä¾‹åŒ–å¯¹è±¡ï¼ˆå‰æï¼šè¯¥æ–¹æ³•æ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•ã€‚ï¼‰ è¿›è¡ŒèŽ·å–ï¼š1234ApplicationContext ac = new ClassPathXmlApplicationContext("bean.xml");Calendar cal1 = ac.getBean("cal1",B.class) ä½¿ç”¨å®žä¾‹å·¥åŽ‚æ–¹æ³•åˆ›å»ºå¯¹è±¡ 1234&lt;bean id="time1" factory-bean="cal1" factory-method="getTime" &gt;&lt;/bean&gt; å“‡ï¼Œæ²¡æœ‰æŒ‡å®šç±»å°±å¯ä»¥å•¦ï¼ŸåŽŸå› ï¼šspringå®¹å™¨æ­¤æ—¶å¯ä»¥è°ƒç”¨cal1å¯¹è±¡çš„getTimeæ–¹æ³•åˆ›å»ºå¯¹è±¡ Spring Beanä½œç”¨åŸŸé¦–å…ˆæˆ‘ä»¬å†™ä¸€ä¸ªå®žä¾‹ï¼š(ä¸ºäº†åŒºåˆ«)1&lt;bean id="s1" class="scope.ScopeBean"/&gt; 1234567//å¯åŠ¨springå®¹å™¨ApplicationContext ac = new ClassPathXmlApplicationContext("scope.xml");//èŽ·å¾—å¯¹è±¡ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œæ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼‰ScopeBean s1 = ac.getBean("s1",ScopeBean.class);ScopeBean s2 = ac.getBean("s1",ScopeBean.class);//æµ‹è¯•s1s2æ˜¯å¦ä¸ºåŒä¸€ä¸ªå¯¹è±¡System.out.println(s1 == s2); è¿”å›žå€¼æ˜¯trueï¼ æ€Žä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿå¦‚ä½•åˆ›å»ºå¤šä¸ªå®žä¾‹å‘¢ï¼Ÿè¿™å°±è¦æåˆ°Spring Beançš„ä½œç”¨åŸŸäº† Bean çš„ä½œç”¨åŸŸå½“åœ¨ Spring ä¸­å®šä¹‰ä¸€ä¸ª bean æ—¶ï¼Œä½ å¿…é¡»å£°æ˜Žè¯¥ bean çš„ä½œç”¨åŸŸçš„é€‰é¡¹ã€‚ å¦‚æžœä¸ºäº†å¼ºåˆ¶ Spring åœ¨æ¯æ¬¡éœ€è¦æ—¶éƒ½äº§ç”Ÿä¸€ä¸ªæ–°çš„ bean å®žä¾‹ï¼Œä½ åº”è¯¥å£°æ˜Ž bean çš„ä½œç”¨åŸŸçš„å±žæ€§ä¸º prototypeã€‚ å¦‚æžœä½ æƒ³è®© Spring åœ¨æ¯æ¬¡éœ€è¦æ—¶éƒ½è¿”å›žåŒä¸€ä¸ªbeanå®žä¾‹ï¼Œä½ åº”è¯¥å£°æ˜Ž bean çš„ä½œç”¨åŸŸçš„å±žæ€§ä¸º singletonã€‚ æ­¤æ—¶å°±æåˆ°äº†Spring æ¡†æž¶æ”¯æŒä»¥ä¸‹äº”ä¸ªä½œç”¨åŸŸï¼Œåˆ†åˆ«ä¸ºsingletonã€prototypeã€requestã€sessionå’Œglobal sessionï¼Œ5ç§ä½œç”¨åŸŸã€‚ singleton å—¯ã€‚ã€‚ã€‚ä½ æ²¡çœ‹é”™å°±æ˜¯å•ä¾‹çš„ï¼Œè¦çŸ¥é“å•ä¾‹æ¨¡å¼çš„å¯¹è±¡åœ¨ç”Ÿäº§å’Œå·¥ä½œå‡ºçŽ°æ˜¯å¾ˆé¢‘ç¹çš„ï¼Œæ‰€ä»¥springä¹Ÿæä¾›äº†äº§ç”Ÿå•ä¾‹å¯¹è±¡çš„æ–¹æ³• çŽ°åœ¨æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªå•ä¾‹å¯¹è±¡1&lt;bean id="s1" class="scope.ScopeBean" scope="singleton"/&gt; 1234ApplicationContext ac = new ClassPathXmlApplicationContext("scope.xml");ScopeBean s1 = ac.getBean("s1",ScopeBean.class);ScopeBean s2 = ac.getBean("s1",ScopeBean.class);System.out.println(s1 == s2); å“ˆå“ˆï¼ŒçŽ°åœ¨å‘çŽ°äº†ä»€ä¹ˆå˜›ï¼Œspringä¸æŒ‡å®šscopeæ—¶ï¼Œå…¶å®žé»˜è®¤æƒ…å†µä¸‹åˆ›å»ºçš„å¯¹è±¡æ˜¯å•ä¾‹çš„ é‚£å°±æ„å‘³ç€ï¼šå¦‚æžœå°†åˆ›å»ºBeanæ—¶çš„scopeå±žæ€§è®¾å®šä¸ºsingletonæˆ–è€…ä¸è¿›è¡Œè®¾å®šï¼Œé‚£ä¹ˆå®¹å™¨åœ¨èŽ·å–å¯¹è±¡æ—¶ä¼šåˆ›å»ºåŒä¸€ä¸ªå¯¹è±¡ï¼ prototype åˆšæ‰æåˆ°çš„singletonæƒ…å†µï¼Œåªéœ€è¦æŠŠscopeå±žæ€§è®¾å®šä¸ºprototypeï¼Œå°±å¯ä»¥åœ¨æ¯æ¬¡ä»Žå®¹å™¨ä¸­è°ƒç”¨Beanæ—¶ï¼Œéƒ½è¿”å›žä¸€ä¸ªæ–°çš„å®žä¾‹ï¼Œå³æ¯æ¬¡è°ƒç”¨getBean()æ—¶ï¼Œç›¸å½“äºŽæ‰§è¡ŒnewXxxBean()ã€‚è¿˜ç­‰ä»€ä¹ˆï¼Œå¿«åŽ»è¯•è¯•å§ï¼ ++ä»¥ä¸‹ä½œç”¨åŸŸåªé€‚ç”¨äºŽWebApplicationContextçŽ¯å¢ƒ++ request æ¯æ¬¡HTTPè¯·æ±‚éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„Beanï¼Œè¯¥ä½œç”¨åŸŸä»…é€‚ç”¨äºŽWebApplicationContextçŽ¯å¢ƒ session åŒä¸€ä¸ªHTTP Sessionå…±äº«ä¸€ä¸ªBeanï¼Œä¸åŒSessionä½¿ç”¨ä¸åŒçš„Beanï¼Œä»…é€‚ç”¨äºŽWebApplicationContextçŽ¯å¢ƒ global-session ä¸€èˆ¬ç”¨äºŽPortletåº”ç”¨çŽ¯å¢ƒï¼Œè¯¥è¿ç”¨åŸŸä»…é€‚ç”¨äºŽWebApplicationContextçŽ¯å¢ƒ Spring Beanç”Ÿå‘½å‘¨æœŸ Beançš„ç”Ÿå‘½å‘¨æœŸå¯ä»¥è¡¨è¾¾ä¸ºï¼šBeançš„å®šä¹‰â€”â€”Beançš„åˆå§‹åŒ–â€”â€”Beançš„ä½¿ç”¨â€”â€”Beançš„é”€æ¯ å®šä¹‰ åˆå§‹åŒ–ï¼ˆåˆ†é…èµ„æºï¼‰ ä½¿ç”¨ é”€æ¯ï¼ˆé‡Šæ”¾èµ„æºï¼‰ Springä¸­æœ‰åˆå§‹åŒ–æ–¹æ³•å’Œé”€æ¯æ–¹æ³•æ¥æŽ§åˆ¶Spring Beançš„ç”Ÿå‘½å‘¨æœŸ åˆå§‹åŒ–æ–¹æ³•å’Œé”€æ¯æ–¹æ³•123456789101112131415package scope;public class MessageBean &#123; public MessageBean() &#123; System.out.println("MessageBean()");&#125; public void init() &#123; System.out.println("init()"); &#125; public void sendMsg&#123; System.out.println("sendMsg()"); &#125; public void destory() &#123; System.out.println("destory()"); &#125;&#125; çœ‹ä¸€ä¸ªç¤ºä¾‹(æ¨¡æ‹Ÿæœ‰ä¸Šè¿°æ–¹æ³•)123&lt;bean id="mb1" class="scope.MessageBean" init-method="init" destroy-method="destory"&gt; &lt;/bean&gt; init-methodå’Œdestroy-methodåˆ†åˆ«åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®è°ƒç”¨çš„åˆå§‹åŒ–æ–¹æ³•å’Œé”€æ¯æ–¹æ³•,ï¼ˆåœ¨Beanåˆå§‹åŒ–å’Œé”€æ¯æ—¶ä¼šè‡ªåŠ¨æ‰§è¡Œåˆå§‹åŒ–å’Œé”€æ¯æ–¹æ³•ï¼‰è°ƒç”¨è¯¥æ–¹æ³•çš„sendMsgå¹¶è¿›è¡Œå…³é—­å®¹å™¨å°±å¯ä»¥æ¼”ç¤ºæ•ˆæžœï¼š123456//æµ‹è¯•ç”Ÿå‘½å‘¨æœŸ//AbstractApplicationContextæ˜¯ApplicationContextçš„å­æŽ¥å£ï¼ŒClassPathXmlApplicationContextå®žçŽ°äº†ApplicationContextï¼Œåªæœ‰AbstractApplicationContextä¸­æ‰æœ‰å…³é—­å®¹å™¨çš„æ–¹æ³•ã€‚AbstractApplicationContext ac = new ClassPathXmlApplicationContext("scope.xml"); MessageBean m1 = ac.getBean("mb1",MessageBean.class) ; m1.sendMsg(); ac.close(); åˆå§‹åŒ–å›žè°ƒ org.springframework.beans.factory.InitializingBean æŽ¥å£æŒ‡å®šä¸€ä¸ªå•ä¸€çš„æ–¹æ³•ï¼š 1void afterPropertiesSet() throws Exception; å¯ä»¥ç®€å•çš„å®žçŽ°è¯¥æŽ¥å£è¿›è¡Œåˆå§‹åŒ–12345public class ExampleBean implements InitializingBean &#123; public void afterPropertiesSet() &#123; // do some initialization work &#125;&#125; 123&lt;bean id="exampleBean" class="examples.ExampleBean" init-method="init"/&gt; é”€æ¯å›žè°ƒ org.springframework.beans.factory.DisposableBean æŽ¥å£æŒ‡å®šä¸€ä¸ªå•ä¸€çš„æ–¹æ³•ï¼š 1void destroy() throws Exception; åŒç†ï¼š12345public class ExampleBean implements DisposableBean &#123; public void destroy() &#123; // do some destruction work &#125;&#125; 123&lt;bean id="exampleBean" class="examples.ExampleBean" destroy-method="destroy"/&gt; å¤§ä½¬è¯´çš„ä¸€äº›ç»†èŠ‚0.0ï¼š å¦‚æžœä½ åœ¨éž web åº”ç”¨ç¨‹åºçŽ¯å¢ƒä¸­ä½¿ç”¨ Spring çš„ IoC å®¹å™¨ï¼›ä¾‹å¦‚åœ¨ä¸°å¯Œçš„å®¢æˆ·ç«¯æ¡Œé¢çŽ¯å¢ƒä¸­ï¼›é‚£ä¹ˆåœ¨ JVM ä¸­ä½ è¦æ³¨å†Œå…³é—­ hookã€‚è¿™æ ·åšå¯ä»¥ç¡®ä¿æ­£å¸¸å…³é—­ï¼Œä¸ºäº†è®©æ‰€æœ‰çš„èµ„æºéƒ½è¢«é‡Šæ”¾ï¼Œå¯ä»¥åœ¨å•ä¸ª beans ä¸Šè°ƒç”¨ destroy æ–¹æ³•ã€‚å»ºè®®ä½ ä¸è¦ä½¿ç”¨ InitializingBean æˆ–è€… DisposableBean çš„å›žè°ƒæ–¹æ³•ï¼Œå› ä¸º XML é…ç½®åœ¨å‘½åæ–¹æ³•ä¸Šæä¾›äº†æžå¤§çš„çµæ´»æ€§ã€‚ Spring Beanå»¶è¿ŸåŠ è½½ç›´æŽ¥ä¸Šæ —å­äº†ðŸ’ªï¼š123ApplicationContext ac = new ClassPathXmlApplicationContext("scope.xml"); //springå®¹å™¨å¯åŠ¨ä¼šè‡ªåŠ¨å°†å•ä¾‹beanåˆ›å»ºå¥½ //å¯è®¾ç½®å»¶è¿ŸåŠ è½½ï¼Œåœ¨beanä¸­(æ‡’åŠ è½½) ä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºï¼Œä»Žä½œç”¨åŸŸä¸€èŠ‚å¼€å§‹ï¼Œxmlæ²¡æœ‰è¿›è¡Œæ”¹å˜ã€‚ï¼ï¼ï¼ä¸ºå•¥æˆ‘å•¥éƒ½æ²¡è°ƒæ˜¾ç¤ºæœ‰å¯¹è±¡åˆ›å»ºäº†å‘¢ï¼Ÿ ==Springåœ¨å¯åŠ¨æ—¶ï¼Œä¼šæ£€æŸ¥åˆ°ä½œç”¨åŸŸä¸ºå•ä¾‹çš„Beanå¹¶è‡ªåŠ¨å®žä¾‹åŒ–==ï¼Œè€Œå»¶è¿ŸåŠ è½½å¯ä»¥å–æ¶ˆè¿™ä¸€æ“ä½œï¼Œç­‰è°ƒç”¨æ—¶å†è¿›è¡Œå®žä¾‹åŒ–ï¼š12345&lt;bean id="mb1" class="scope.MessageBean" init-method="init" destroy-method="destory" lazy-init="true"&gt; &lt;!--è¿™æ˜¯ä¸ªç¼ºçœçš„singleton Bean--&gt; æŒ‡å®šæ˜¯å¦å»¶è¿ŸåŠ è½½ï¼Œå€¼ä¸ºtrueæ—¶å»¶è¿ŸåŠ è½½ï¼Œç¼ºçœå€¼ä¸ºfalseã€‚ Spring BeanåŽç½®å¤„ç†å™¨èµ˜è¿° x N (=_=) Bean åŽç½®å¤„ç†å™¨å…è®¸åœ¨è°ƒç”¨åˆå§‹åŒ–æ–¹æ³•å‰åŽå¯¹ Bean è¿›è¡Œé¢å¤–çš„å¤„ç†ã€‚BeanPostProcessor æŽ¥å£å®šä¹‰å›žè°ƒæ–¹æ³•ï¼Œä½ å¯ä»¥å®žçŽ°è¯¥æ–¹æ³•æ¥æä¾›è‡ªå·±çš„å®žä¾‹åŒ–é€»è¾‘ï¼Œä¾èµ–è§£æžé€»è¾‘ç­‰ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨ Spring å®¹å™¨é€šè¿‡æ’å…¥ä¸€ä¸ªæˆ–å¤šä¸ª BeanPostProcessor çš„å®žçŽ°æ¥å®Œæˆå®žä¾‹åŒ–ï¼Œé…ç½®å’Œåˆå§‹åŒ–ä¸€ä¸ªbeanä¹‹åŽå®žçŽ°ä¸€äº›è‡ªå®šä¹‰é€»è¾‘å›žè°ƒæ–¹æ³•ã€‚ä½ å¯ä»¥é…ç½®å¤šä¸ª BeanPostProcessor æŽ¥å£ï¼Œé€šè¿‡è®¾ç½® BeanPostProcessor å®žçŽ°çš„ Ordered æŽ¥å£æä¾›çš„ order å±žæ€§æ¥æŽ§åˆ¶è¿™äº› BeanPostProcessor æŽ¥å£çš„æ‰§è¡Œé¡ºåºã€‚BeanPostProcessor å¯ä»¥å¯¹ beanï¼ˆæˆ–å¯¹è±¡ï¼‰å®žä¾‹è¿›è¡Œæ“ä½œï¼Œè¿™æ„å‘³ç€ Spring IoC å®¹å™¨å®žä¾‹åŒ–ä¸€ä¸ª bean å®žä¾‹ï¼Œç„¶åŽ BeanPostProcessor æŽ¥å£è¿›è¡Œå®ƒä»¬çš„å·¥ä½œã€‚ApplicationContext ä¼šè‡ªåŠ¨æ£€æµ‹ç”± BeanPostProcessor æŽ¥å£çš„å®žçŽ°å®šä¹‰çš„ beanï¼Œæ³¨å†Œè¿™äº› bean ä¸ºåŽç½®å¤„ç†å™¨ï¼Œç„¶åŽé€šè¿‡åœ¨å®¹å™¨ä¸­åˆ›å»º beanï¼Œåœ¨é€‚å½“çš„æ—¶å€™è°ƒç”¨å®ƒã€‚ 12345678910111213141516package scope;public class MessageBean &#123; private String message; public MessageBean() &#123; this.message = message;&#125; public void init() &#123; System.out.println("init()"); &#125; public void sendMsg&#123; System.out.println("sendMsg()"); &#125; public void destory() &#123; System.out.println("destory()"); &#125;&#125; è¿™æ˜¯å®žçŽ° BeanPostProcessor çš„éžå¸¸ç®€å•çš„ä¾‹å­ï¼Œå®ƒåœ¨ä»»ä½• bean çš„åˆå§‹åŒ–çš„ä¹‹å‰å’Œä¹‹åŽè¾“å…¥è¯¥ bean çš„åç§°ã€‚ä½ å¯ä»¥åœ¨åˆå§‹åŒ– bean çš„ä¹‹å‰å’Œä¹‹åŽå®žçŽ°æ›´å¤æ‚çš„é€»è¾‘ï¼Œå› ä¸ºä½ æœ‰ä¸¤ä¸ªè®¿é—®å†…ç½® bean å¯¹è±¡çš„åŽç½®å¤„ç†ç¨‹åºçš„æ–¹æ³•ã€‚123456789101112import org.springframework.beans.factory.config.BeanPostProcessor;import org.springframework.beans.BeansException;public class InitMessage implements BeanPostProcessor &#123; public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException &#123; System.out.println("BeforeInitialization : " + beanName); return bean; // you can return any other object as well &#125; public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException &#123; System.out.println("AfterInitialization : " + beanName); return bean; // you can return any other object as well &#125;&#125; 1234AbstractApplicationContext ac = new ClassPathXmlApplicationContext("scope.xml"); MessageBean m1 = ac.getBean("mb1",MessageBean.class) ; m1.sendMsg(); ac.close(); æ¼”ç¤ºä¹‹åŽå°±æ˜Žç™½äº†ï¼ æœ¬æ–‡ç”¨äºŽä¸ªäººå­¦ä¹ å’Œåˆ†äº«ï¼Œå¤šå¤„å€Ÿé‰´ï¼Œå¦‚æœ‰ä¸è¶³ä¹‹å¤„è¯·æŒ‡æ­£]]></content>
      <categories>
        <category>stadyNotes</category>
      </categories>
      <tags>
        <tag>Spring</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2Fpost%2F4a17b156.html</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
  </entry>
  <entry>
    <title><![CDATA[æ¼«ç”»ç¼–ç¨‹ä¸­å¯¹åžƒåœ¾å›žæ”¶çš„ç†è§£è®°å½•]]></title>
    <url>%2Fpost%2F3ee5e646.html</url>
    <content type="text"><![CDATA[ç¬¬ä¸€ç¯‡ GCå¦‚ä½•åˆ¤æ–­å¦‚ä½•å›žæ”¶åžƒåœ¾mGet(GC); GC ï¼Œå³Garbage Collection,ä¸­æ–‡åä¸ºâ€œåžƒåœ¾å›žæ”¶â€ã€‚ è¿™é‡Œçš„åžƒåœ¾æŒ‡çš„æ˜¯ç¨‹åºä¸ç”¨çš„å†…å­˜ç©ºé—´ã€‚ GCçš„å…³é”®å°±åœ¨å¦‚ä½•åˆ¤æ–­ä»€ä¹ˆä¸œè¥¿æ˜¯åžƒåœ¾ã€‚ mGet(å¼•ç”¨è®¡æ•°ç®—æ³•) æ‰¾åˆ°ä¸€ä¸ªå¯¹è±¡ï¼Œç»™å…¶æ·»åŠ ä¸€ä¸ªå¼•ç”¨è®¡æ•°å™¨ï¼Œæ¯å½“æœ‰ä¸€ä¸ªåœ°æ–¹æœ‰å¼•ç”¨å…¶æ—¶ï¼Œè®¡æ•°å™¨åŠ 1ï¼Œå¼•ç”¨å¤±æ•ˆæ—¶ï¼Œè®¡æ•°å™¨å°±å‡1ã€‚æ‰§è¡Œåžƒåœ¾å›žæ”¶æ—¶ï¼Œåˆ¤æ–­å…¶å¼•ç”¨è®¡æ•°æ˜¯å¦ä¸º0ã€‚å¼•ç”¨è®¡æ•°ä¸º0è¡¨ç¤ºå¯å›žæ”¶ã€‚ è¯¥ç®—æ³•æ¯”è¾ƒç®€å• æœ‰ç¼ºç‚¹ï¼Œå¯èƒ½æ•ˆæžœä¸æ˜Žæ˜¾ï¼ˆåªæœ‰ä¸€ä¸ªå¼•ç”¨æˆ–å°‘é‡å¼•ç”¨ä¸”å¼•ç”¨ä¸é‡è¦ï¼‰ ç¼ºç‚¹2ï¼Œå¯¹è±¡å’Œå¯¹è±¡çš„å¼•ç”¨éƒ½æ˜¯åžƒåœ¾æ—¶ï¼ˆå¾ªçŽ¯å¼•ç”¨å¯¹è±¡ï¼Œå¯èƒ½æœ‰å¤šä¸ªï¼‰ï¼Œå¯¼è‡´æ— æ³•å›žæ”¶ã€‚ æ€»ç»“ï¼šä»Žè¢«ä½¿ç”¨çš„å¯¹è±¡å‡ºå‘çš„å¼•ç”¨è®¡æ•°ç®—æ³•åœ¨è¿›è¡Œåžƒåœ¾å›žæ”¶æ—¶ä¸æ˜¯å¾ˆå¯é  mGet(å¯è¾¾æ€§åˆ†æžç®—æ³•) é€šè¿‡ä¸€ç³»åˆ—çš„â€œGC Rootâ€çš„å¯¹è±¡ä½œä¸ºèµ·å§‹ç‚¹ï¼Œä»Žè¿™äº›èŠ‚ç‚¹å¼€å§‹å‘ä¸‹æœç´¢ï¼Œæ‰€èµ°è¿‡çš„è·¯å¾„æˆä¸ºå¼•ç”¨é“¾ï¼Œå½“ä¸€ä¸ªå¯¹è±¡åˆ°GC Rootæ²¡æœ‰ä»»ä½•å¼•ç”¨é“¾ç›¸è¿žæ—¶ï¼Œåˆ™è¯æ˜Žæ¬¡å¯¹è±¡ä¸å¯ç”¨ã€‚ ä»Žå®¶åº­æˆå‘˜å‡ºå‘ï¼Œä¸€ä¸ªä¸ªè¯¢é—®æ˜¯å¦æœ‰ç”¨ï¼ŒåŽ»åˆ¤æ–­ç‰©å“çš„æœ‰ç”¨ç¨‹åº¦ï¼Œä¸€ä¸ªç‰©å“æ²¡æœ‰ä»»ä½•å®¶åº­æˆå‘˜å®£å¸ƒè¦ä½¿ç”¨ï¼Œå°±åƒä¸€ä¸ªå¯¹è±¡è¾¾åˆ°æ‰€æœ‰çš„â€œGC Rootâ€éƒ½æ²¡æœ‰å¼•ç”¨é“¾æ˜¯ä¸€æ ·çš„ã€‚ javaä¸­å¯ä»¥ä½œä¸ºGC Rootçš„å¯¹è±¡åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ï¼š è™šæ‹Ÿæœºæ ˆä¸­å¼•ç”¨çš„å¯¹è±¡ æ–¹æ³•åŒºä¸­é™æ€ç±»å¼•ç”¨çš„å¯¹è±¡ã€‚ æ–¹æ³•åŽ»ä¸­å¸¸é‡å¼•ç”¨çš„å¯¹è±¡ æœ¬åœ°æ–¹æ³•æ ˆä¸­JINå¼•ç”¨çš„å¯¹è±¡ æ€»ç»“ï¼šä»Žå®¶åº­æˆå‘˜å‡ºå‘çš„å¯è¾¾æ€§åˆ†æžç®—æ³•åœ¨è¿›è¡Œåžƒåœ¾å›žæ”¶æ—¶æ¯”è¾ƒå¯é ]]></content>
  </entry>
  <entry>
    <title><![CDATA[ä¸€ä¸ªé¢è¯•é¢˜å¼•å‘çš„å…³äºŽsynchronizeçš„ä½“ä¼š]]></title>
    <url>%2Fpost%2Fc438e30e.html</url>
    <content type="text"><![CDATA[æ•…äº‹çš„å¼€ç«¯æ˜¯è¿™æ ·çš„ï¼šæˆ‘çš„ä¸€ä¸ªæœ‹å‹åŽ»ç™¾åº¦é¢è¯•ï¼Œé‡åˆ°äº†è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šQï¼šä¸€ä¸ªç±»é‡Œå®šä¹‰ä¸¤ä¸ªsynchronizedæ–¹æ³•ï¼Œèµ·ä¸¤ä¸ªçº¿ç¨‹ï¼ŒåŒä¸€ä¸ªå¯¹è±¡ï¼Œaçº¿ç¨‹è®¿é—®1æ–¹æ³•ï¼Œbçº¿ç¨‹è®¿é—®2æ–¹æ³•ä¼šæ€Žä¹ˆæ ·ï¼Ÿ1çœ‹ä¼¼æ²¡æœ‰ä»€ä¹ˆéš¾åº¦çš„é—®é¢˜ï¼Œå´å¼•å‘äº†çš„å¾ˆå¤šå°ä¼™ä¼´çš„æ€è€ƒ é¦–å…ˆ ï¼Œè®©æˆ‘ä»¬å›žå¿†ä¸€ä¸‹synchronizedçš„ç”¨æ³• synchronizedæ˜¯Javaä¸­çš„å…³é”®å­—ï¼Œæ˜¯ä¸€ç§åŒæ­¥é”ã€‚å®ƒä¿®é¥°çš„å¯¹è±¡æœ‰ä»¥ä¸‹å‡ ç§ï¼š ä¿®é¥°ä¸€ä¸ªä»£ç å—ï¼Œè¢«ä¿®é¥°çš„ä»£ç å—ç§°ä¸ºåŒæ­¥è¯­å¥å—ï¼Œå…¶ä½œç”¨çš„èŒƒå›´æ˜¯å¤§æ‹¬å·{}æ‹¬èµ·æ¥çš„ä»£ç ï¼Œä½œç”¨çš„å¯¹è±¡æ˜¯è°ƒç”¨è¿™ä¸ªä»£ç å—çš„å¯¹è±¡ï¼› æŒ‡å®šå¯¹è±¡ï¼Œå…¶ä½œç”¨çš„èŒƒå›´æ˜¯synchronizedåŽé¢æ‹¬å·æ‹¬èµ·æ¥çš„éƒ¨åˆ†ï¼Œä½œç”¨çš„å¯¹è±¡æ˜¯æŒ‡å®šå¯¹è±¡ã€‚ å¯¹ä»£ç å—ä¿®æ”¹ä¸€ä¸ªç±»ï¼Œå…¶ä½œç”¨çš„èŒƒå›´æ˜¯synchronizedåŽé¢æ‹¬å·æ‹¬èµ·æ¥çš„éƒ¨åˆ†ï¼Œä½œç”¨ä¸»çš„å¯¹è±¡æ˜¯è¿™ä¸ªç±»çš„æ‰€æœ‰å¯¹è±¡ã€‚ ä¿®é¥°ä¸€ä¸ªæ–¹æ³•ï¼Œè¢«ä¿®é¥°çš„æ–¹æ³•ç§°ä¸ºåŒæ­¥æ–¹æ³•ï¼Œå…¶ä½œç”¨çš„èŒƒå›´æ˜¯æ•´ä¸ªæ–¹æ³•ï¼Œä½œç”¨çš„å¯¹è±¡æ˜¯è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„å¯¹è±¡ï¼› ä¿®æ”¹ä¸€ä¸ªé™æ€çš„æ–¹æ³•ï¼Œå…¶ä½œç”¨çš„èŒƒå›´æ˜¯æ•´ä¸ªé™æ€æ–¹æ³•ï¼Œä½œç”¨çš„å¯¹è±¡æ˜¯è¿™ä¸ªç±»çš„æ‰€æœ‰å¯¹è±¡ï¼›ï¼ˆå‚è€ƒï¼šhttps://blog.csdn.net/luoweifu/article/details/46613015)ä¸€ã€ä¿®é¥°ä»£ç å— æœ€ç®€å•çš„å°±ä½¿ç”¨synchronized(this)å…³é”®å­—è¿›è¡Œä»£ç å—çš„ä¿®é¥°å°±å¥½å•¦ï¼ ä¸¾ä¸ªæ —å­ï¼š1234567public class Demo&#123; public void method()&#123; synchronized(this)&#123; //ä»£ç å—å†…å®¹ &#125; &#125;&#125; æ­¤æ—¶æ­¤åˆ»ï¼Œä¸€ä¸ªçº¿ç¨‹è®¿é—®ä¸€ä¸ªå¯¹è±¡ä¸­çš„synchronized(this)åŒæ­¥ä»£ç å—æ—¶ï¼Œå…¶ä»–è¯•å›¾è®¿é—®è¯¥å¯¹è±¡çš„çº¿ç¨‹å°†è¢«é˜»å¡žã€‚ æŒ‡å®šå¯¹è±¡çš„ä»£ç å—åˆ†ä¸ºå¤šç§ å°±æŒ‡å®šå®šç‰¹å®šå¯¹è±¡ä¸¾ä¸ªæ —å­ï¼š1234567891011public class Demo&#123; ObjectA a ; public Demo(ObjectA a)&#123; this.a = a; &#125; public void method()&#123; synchronized(a)&#123; //ä»£ç å—å†…å®¹ &#125; &#125;&#125; æ­¤æ—¶æ­¤åˆ»ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è®¿é—®accountå¯¹è±¡æ—¶ï¼Œå…¶ä»–è¯•å›¾è®¿é—®accountå¯¹è±¡çš„çº¿ç¨‹å°†ä¼šé˜»å¡žï¼Œç›´åˆ°è¯¥çº¿ç¨‹è®¿é—®accountå¯¹è±¡ç»“æŸã€‚ å½“æ²¡æœ‰æ˜Žç¡®çš„å¯¹è±¡,å•çº¯çš„æƒ³è®©ä¸€æ®µä»£ç å—åŒæ­¥ä¸¾ä¸ªæ —å­ï¼š12345678910public class Demo&#123; //private byte[] o = new byte[0]; //ä¸€ç§æ€§èƒ½æ›´å¥½çš„å†™æ³• /*è¯´æ˜Žï¼šé›¶é•¿åº¦çš„byteæ•°ç»„å¯¹è±¡åˆ›å»ºèµ·æ¥å°†æ¯”ä»»ä½•å¯¹è±¡éƒ½ç»æµŽâ€•â€•æŸ¥çœ‹ç¼–è¯‘åŽçš„å­—èŠ‚ç ï¼šç”Ÿæˆé›¶é•¿åº¦çš„byte[]å¯¹è±¡åªéœ€3æ¡æ“ä½œç ï¼Œè€ŒObject lock = new Object()åˆ™éœ€è¦7è¡Œæ“ä½œç ã€‚*/ Object o = new Object() ; public void method()&#123; synchronized(o)&#123; //ä»£ç å—å†…å®¹ &#125; &#125;&#125; æŒ‡å®šç±»çš„ä»£ç å—(.class)ä¸¾ä¸ªæ —å­ï¼š1234567public class Demo&#123; public void method()&#123; synchronized(Demo.class)&#123; //ä»£ç å—å†…å®¹ &#125; &#125;&#125; synchronizedä½œç”¨äºŽä¸€ä¸ªç±»Tæ—¶ï¼Œæ˜¯ç»™è¿™ä¸ªç±»TåŠ é”ï¼ŒTçš„æ‰€æœ‰å¯¹è±¡ç”¨çš„æ˜¯åŒä¸€æŠŠé”ã€‚ äºŒã€ä¿®é¥°æ–¹æ³• synchronizeä¿®é¥°éžé™æ€æ–¹æ³•æ—¶ï¼Œç›´æŽ¥åœ¨æ–¹æ³•ä¸Šæ·»åŠ å…³é”®å­—å°±å¯ä»¥å•¦ã€‚ ä¸¾ä¸ªæ —å­ï¼š12345public class Demo&#123; public synchronized void method()&#123; //todo() &#125;&#125; æ­¤æ—¶æ­¤åˆ»ï¼Œé”çš„ä½œç”¨èŒƒå›´æ˜¯è¯¥æ–¹æ³•ï¼Œä½œç”¨å¯¹è±¡æ˜¯è°ƒç”¨è¯¥æ–¹æ³•çš„å¯¹è±¡ï¼ˆåŽé¢ä¼šç»†è®²ï¼‰ï¼Œæœ‰ä¸€ä¸ªçº¿ç¨‹æ­£åœ¨è®¿é—®è¯¥æ–¹æ³•æ—¶ï¼Œå…¶ä»–è¯•å›¾è®¿é—®è¯¥å¯¹è±¡è¯¥æ–¹æ³•çš„çº¿ç¨‹ä¼šè¢«é˜»å¡žã€‚ synchronizeä¿®é¥°é™æ€æ–¹æ³•æ—¶ä¸¾ä¸ªæ —å­ï¼š 12345public class Demo&#123; public static synchronized void method()&#123; //tudo() &#125;&#125; å› ä¸ºé™æ€æ–¹æ³•å±žäºŽç±»ï¼Œæ‰€ä»¥åœ¨é™æ€æ–¹æ³•ä¸ŠåŠ çš„åŒæ­¥é”ä¹Ÿå±žäºŽç±»å’Œç±»çš„ä»»ä½•å¯¹è±¡ï¼ŒèŒƒå›´ä¾æ—§æ˜¯è¯¥æ–¹æ³• å›žåˆ°é‚£ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æ¥æ¨¡æ‹Ÿä¸€ä¸ªå®žçŽ° å¦‚æžœä¸åŠ é”123456789101112131415161718192021222324252627282930313233343536373839public class test &#123; public static void main(String[] args) &#123; People p = new People(); Thread a = new MyThread(p, 1); Thread b = new MyThread(p, 2); a.start(); b.start(); &#125;&#125; class People&#123; public void a() &#123; for(int i=0;i&lt;50;i++) &#123; System.out.print("A"); &#125; &#125; public void b() &#123; for(int i=0;i&lt;50;i++) &#123; System.out.print("B"); &#125; &#125; &#125; class MyThread extends Thread&#123; People p; int c; MyThread(People p,int c)&#123; this.p = p; this.c = c; &#125; @Override public void run() &#123; if(c == 1) p.a(); else if(c == 2) p.b(); &#125; &#125;&#125; åœ¨å¤šæ¬¡è¿è¡ŒåŽä¼šå‡ºçŽ°ç±»ä¼¼AAABBBBBAAAæˆ–BBBAAAANBBçš„æƒ…å†µï¼Œè¯´æ˜Žäº†ä¸åŠ åŒæ­¥é”æ—¶ï¼Œä¸¤ä¸ªçº¿ç¨‹æ˜¯å¯ä»¥åŒæ—¶è¿è¡Œçš„ åŠ ä¸Šæ–¹æ³•é”ï¼š123456789101112131415161718192021222324252627282930313233343536373839public class test &#123; public static void main(String[] args) &#123; People p = new People(); Thread a = new MyThread(p, 1); Thread b = new MyThread(p, 2); a.start(); b.start(); &#125;&#125; class People&#123; public synchronized void a() &#123; for(int i=0;i&lt;50;i++) &#123; System.out.print("A"); &#125; &#125; public synchronized void b() &#123; for(int i=0;i&lt;50;i++) &#123; System.out.print("B"); &#125; &#125; &#125; class MyThread extends Thread&#123; People p; int c; MyThread(People p,int c)&#123; this.p = p; this.c = c; &#125; @Override public void run() &#123; if(c == 1) p.a(); else if(c == 2) p.b(); &#125; &#125;&#125; è€Œåœ¨åŠ äº†åŒæ­¥é”ä¹‹åŽï¼Œå‘çŽ°ä¸¤ä¸ªçº¿ç¨‹ä¸å†åŒæ—¶è¿è¡Œï¼Œå¿…é¡»ç­‰å¦ä¸€ä¸ªçº¿ç¨‹ä¸‹çš„æ–¹æ³•è¿è¡Œç»“æŸåŽæ‰ä¼šç»§ç»­è¿è¡Œ é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼šæˆ‘ä»¬lä¸¤ä¸ªçº¿ç¨‹è°ƒç”¨çš„æ˜Žæ˜Žä¸æ˜¯åŒä¸€ä¸ªæ–¹æ³•ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆä¼šäº§ç”ŸåŒæ­¥çš„æ•ˆæžœå‘¢ï¼Ÿ Aï¼šè¿˜è®°å¾—å—ï¼Œä»£ç å—å®šä¹‰æ—¶ï¼Œæˆ‘ä»¬å¯¹ä»£ç å—è¿›è¡Œäº†å¯¹è±¡çš„è®¾ç½®ï¼Œè€Œå¯¹æ–¹æ³•çš„é”å´æ²¡æœ‰è¿›è¡Œç»‘å®šã€‚ å…¶å®žéžé™æ€æ–¹æ³•çš„é»˜è®¤ä¿®é¥°å¯¹è±¡æ˜¯(this)ã€‚ ä¸éš¾éªŒè¯ï¼š123public synchronized void method()&#123; //todu&#125; å’Œ12345public void method()&#123; synchronized(this)&#123; //tudo &#125;&#125; æ˜¯ç­‰ä»·çš„ï¼Œæ‰€ä»¥ï¼Œå³ä½¿åœ¨æˆ‘ä»¬ä½¿ç”¨ä¸åŒçº¿ç¨‹è°ƒç”¨åŒä¸€ä¸ªå¯¹è±¡çš„ä¸åŒåŒæ­¥æ–¹æ³•ï¼ˆæˆ–ä»£ç å—ï¼‰æ—¶ï¼Œå¦‚æžœä¸€ä¸ªçº¿ç¨‹å·²ç»è°ƒç”¨å…¶ä¸­ä¸€ä¸ªï¼Œå¦ä¸€ä¸ªçº¿ç¨‹ä¹Ÿä¼šè¢«é˜»å¡žï¼ŒåŽŸå› æ˜¯å·²ç»è°ƒç”¨çš„åŒæ­¥æ–¹æ³•ï¼ˆæˆ–ä»£ç å—ï¼‰å ç”¨äº†è¯¥å¯¹è±¡ä¸­çš„é”ï¼ï¼ï¼ï¼ï¼ˆå“‡å¥½ç¥žå¥‡ï¼‰ å¯æ˜¯åˆæœ‰äººé—®äº†ï¼Œsynchronizedä¸æ˜¯æ”¯æŒé‡å…¥æ€§å—ï¼Ÿ ä¸‹é¢ä»‹ç»ä¸€ä¸‹synchronizedçš„é‡å…¥synchronizeé”é‡å…¥ï¼š å…³é”®å­—synchronizeæ‹¥æœ‰é”é‡å…¥çš„åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯åœ¨ä½¿ç”¨synchronizeæ—¶ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹çš„å¾—åˆ°äº†ä¸€ä¸ªå¯¹è±¡çš„é”åŽï¼Œå†æ¬¡è¯·æ±‚æ­¤å¯¹è±¡æ˜¯å¯ä»¥å†æ¬¡å¾—åˆ°è¯¥å¯¹è±¡çš„é”ã€‚ å½“ä¸€ä¸ªçº¿ç¨‹è¯·æ±‚ä¸€ä¸ªç”±å…¶ä»–çº¿ç¨‹æŒæœ‰çš„é”æ—¶ï¼Œå‘å‡ºè¯·æ±‚çš„çº¿ç¨‹å°±ä¼šè¢«é˜»å¡žï¼Œç„¶è€Œï¼Œç”±äºŽå†…ç½®é”æ˜¯å¯é‡å…¥çš„ï¼Œå› æ­¤å¦‚æžœæŸä¸ªçº¿ç¨‹è¯•å›¾èŽ·å¾—ä¸€ä¸ªå·²ç»ç”±å¥¹è‡ªå·±æŒæœ‰çš„é”ï¼Œé‚£ä¹ˆè¿™ä¸ªè¯·æ±‚å°±ä¼šæˆåŠŸï¼Œâ€œé‡å…¥â€ æ„å‘³ç€èŽ·å–é”çš„ æ“ä½œçš„ç²’åº¦æ˜¯â€œçº¿ç¨‹â€ï¼Œè€Œä¸æ˜¯è°ƒç”¨ ï¼ˆå‚è€ƒï¼šhttps://blog.csdn.net/qq_32120645/article/details/72900976 ï¼‰ æœ€åŽå†™ä¸€äº›synchronizedçš„ä½¿ç”¨æ³¨æ„äº‹é¡¹å’Œä¸Žlockçš„åŒºåˆ« æ³¨æ„äº‹é¡¹ synchronizedå…³é”®å­—ä¸èƒ½ç»§æ‰¿ã€‚è™½ç„¶å¯ä»¥ä½¿ç”¨synchronizedæ¥å®šä¹‰æ–¹æ³•ï¼Œä½†synchronizedå¹¶ä¸å±žäºŽæ–¹æ³•å®šä¹‰çš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤ï¼Œsynchronizedå…³é”®å­—ä¸èƒ½è¢«ç»§æ‰¿ã€‚å¦‚æžœåœ¨çˆ¶ç±»ä¸­çš„æŸä¸ªæ–¹æ³•ä½¿ç”¨äº†synchronizedå…³é”®å­—ï¼Œè€Œåœ¨å­ç±»ä¸­è¦†ç›–äº†è¿™ä¸ªæ–¹æ³•ï¼Œåœ¨å­ç±»ä¸­çš„è¿™ä¸ªæ–¹æ³•é»˜è®¤æƒ…å†µä¸‹å¹¶ä¸æ˜¯åŒæ­¥çš„ï¼Œè€Œå¿…é¡»æ˜¾å¼åœ°åœ¨å­ç±»çš„è¿™ä¸ªæ–¹æ³•ä¸­åŠ ä¸Šsynchronizedå…³é”®å­—æ‰å¯ä»¥ã€‚å½“ç„¶ï¼Œè¿˜å¯ä»¥åœ¨å­ç±»æ–¹æ³•ä¸­è°ƒç”¨çˆ¶ç±»ä¸­ç›¸åº”çš„æ–¹æ³•ï¼Œè¿™æ ·è™½ç„¶å­ç±»ä¸­çš„æ–¹æ³•ä¸æ˜¯åŒæ­¥çš„ï¼Œä½†å­ç±»è°ƒç”¨äº†çˆ¶ç±»çš„åŒæ­¥æ–¹æ³•ï¼Œå› æ­¤ï¼Œå­ç±»çš„æ–¹æ³•ä¹Ÿå°±ç›¸å½“äºŽåŒæ­¥äº†ã€‚ æ— è®ºsynchronizedå…³é”®å­—åŠ åœ¨æ–¹æ³•ä¸Šè¿˜æ˜¯å¯¹è±¡ä¸Šï¼Œå¦‚æžœå®ƒä½œç”¨çš„å¯¹è±¡æ˜¯éžé™æ€çš„ï¼Œåˆ™å®ƒå–å¾—çš„é”æ˜¯å¯¹è±¡ï¼›å¦‚æžœsynchronizedä½œç”¨çš„å¯¹è±¡æ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•æˆ–ä¸€ä¸ªç±»ï¼Œåˆ™å®ƒå–å¾—çš„é”æ˜¯å¯¹ç±»ï¼Œè¯¥ç±»æ‰€æœ‰çš„å¯¹è±¡åŒä¸€æŠŠé”ã€‚ æ¯ä¸ªå¯¹è±¡åªæœ‰ä¸€ä¸ªé”ï¼ˆlockï¼‰ä¸Žä¹‹ç›¸å…³è”ï¼Œè°æ‹¿åˆ°è¿™ä¸ªé”è°å°±å¯ä»¥è¿è¡Œå®ƒæ‰€æŽ§åˆ¶çš„é‚£æ®µä»£ç ã€‚ å®žçŽ°åŒæ­¥æ˜¯è¦å¾ˆå¤§çš„ç³»ç»Ÿå¼€é”€ä½œä¸ºä»£ä»·çš„ï¼Œç”šè‡³å¯èƒ½é€ æˆæ­»é”ï¼Œæ‰€ä»¥å°½é‡é¿å…æ— è°“çš„åŒæ­¥æŽ§åˆ¶ã€‚ ä¸Žlockçš„åŒºåˆ«ï¼š synchronizedï¼š 1234567891. å­˜åœ¨å±‚æ¬¡ï¼šJavaçš„å…³é”®å­—ï¼Œåœ¨jvmå±‚é¢ä¸Š2. é”çš„é‡Šæ”¾ï¼š- ä»¥èŽ·å–é”çš„çº¿ç¨‹æ‰§è¡Œå®ŒåŒæ­¥ä»£ç ï¼Œé‡Šæ”¾é” - çº¿ç¨‹æ‰§è¡Œå‘ç”Ÿå¼‚å¸¸ï¼Œjvmä¼šè®©çº¿ç¨‹é‡Šæ”¾é”3. é”çš„èŽ·å–:å‡è®¾Açº¿ç¨‹èŽ·å¾—é”ï¼ŒBçº¿ç¨‹ç­‰å¾…ã€‚å¦‚æžœAçº¿ç¨‹é˜»å¡žï¼ŒBçº¿ç¨‹ä¼šä¸€ç›´ç­‰å¾…4. é”çŠ¶æ€: æ— æ³•åˆ¤æ–­5. é”ç±»åž‹: å¯é‡å…¥ ä¸å¯ä¸­æ–­ éžå…¬å¹³6. æ€§èƒ½: å°‘é‡åŒæ­¥ Lockï¼š 12345671. å­˜åœ¨å±‚æ¬¡ï¼šæ˜¯ä¸€ä¸ªç±»2. é”çš„é‡Šæ”¾ï¼šåœ¨finallyä¸­å¿…é¡»é‡Šæ”¾é”ï¼Œä¸ç„¶å®¹æ˜“é€ æˆçº¿ç¨‹æ­»é”3. é”çš„èŽ·å–:åˆ†æƒ…å†µè€Œå®šï¼ŒLockæœ‰å¤šä¸ªé”èŽ·å–çš„æ–¹å¼ï¼Œå…·ä½“ä¸‹é¢ä¼šè¯´é“ï¼Œå¤§è‡´å°±æ˜¯å¯ä»¥å°è¯•èŽ·å¾—é”ï¼Œçº¿ç¨‹å¯ä»¥ä¸ç”¨ä¸€ç›´ç­‰å¾…4. é”çŠ¶æ€: å¯ä»¥åˆ¤æ–­5. é”ç±»åž‹: å¯é‡å…¥ å¯ä¸­æ–­ å¯å…¬å¹³ï¼ˆä¸¤è€…çš†å¯ï¼‰6. æ€§èƒ½: å¤§é‡åŒæ­¥ ï¼ˆå‚è€ƒï¼šhttps://blog.csdn.net/u012403290/article/details/64910926 ï¼‰ è¯¥æ–‡ç« ä¸»è¦ç”¨äºŽä¸ªäººå­¦ä¹ å’Œè®°å½•ï¼Œå€Ÿé‰´äº†å¾ˆå¤šç›¸å…³åšå®¢ï¼Œè‹¥ æœ‰ä¸è¶³å’Œé”™è¯¯å¤„è¯·æŒ‡æ­£ã€‚]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
</search>
